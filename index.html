<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>A Primer on Bézier Curves</title>
    <link rel="shortcut icon" href="favicon.png" type="image/png" />

    <!-- And a slew of SEO related meta elements, because being discoverable is important -->
    <meta
      name="description"
      content="A detailed explanation of Bézier curves, and how to do the many things that we commonly want to do with them."
    />

    <!-- opengraph information -->
    <meta property="og:title" content="A Primer on Bézier Curves" />
    <meta
      property="og:image"
      content="https://pomax.github.io/bezierinfo/images/og-image.png"
    />
    <meta property="og:type" content="text" />
    <meta property="og:url" content="https://pomax.github.io/bezierinfo" />
    <meta
      property="og:description"
      content="A detailed explanation of Bézier curves, and how to do the many things that we commonly want to do with them."
    />
    <meta property="og:locale" content="en-GB}}" />
    <meta property="og:type" content="article" />
    <meta property="og:published_time" content="2013-06-13 12:00:00" />
    <meta property="og:author" content="Mike 'Pomax' Kamermans" />
    <meta property="og:section" content="Bézier Curves" />
    <meta property="og:tag" content="Bézier Curves" />

    <!-- twitter card information -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@TheRealPomax" />
    <meta name="twitter:creator" content="@TheRealPomax" />
    <meta
      name="twitter:image"
      content="https://pomax.github.io/bezierinfo/images/og-image.png"
    />
    <meta name="twitter:url" content="https://pomax.github.io/bezierinfo" />
    <meta
      name="twitter:description"
      content="A detailed explanation of Bézier curves, and how to do the many things that we commonly want to do with them."
    />

    <!-- my own referral/page hit tracker, because Google knows enough -->
    <script src="./lib/site/referrer.js" type="module" async></script>

    <!-- the part that makes interactive graphics work: an HTML5 <graphics-element> custom element -->
    <script
      src="./lib/custom-element/graphics-element.js"
      type="module"
      async
      defer
    ></script>
    <link rel="stylesheet" href="./lib/custom-element/graphics-element.css" />

    <!-- page styling -->
    <link rel="stylesheet" href="placeholder-style.css" />
  </head>

  <body>
    <header>
      <h1>A Primer on Bézier Curves</h1>
      <h2>
        A free, online book for when you really need to know how to do Bézier
        things.
      </h2>
      <span>Read this in your own language:</span>
      <ul>
        <li><a href="./index.html">English</a></li>
        <li><a href="./ja-JP/index.html">日本語</a></li>
        <li><a href="./zh-CN/index.html">中文</a></li>
      </ul>
      <span
        >Don't see your language listed?
        <a href="https://github.com/Pomax/BezierInfo-2/wiki/localize"
          >Help translate this content!</a
        ></span
      >
      <nav aria-labelledby="toc">
        <h1 id="toc">Table of Contents</h1>
        <ol>
          <li><a href="#introduction">A lightning introduction</a></li>
          <li><a href="#whatis">So what makes a Bézier Curve?</a></li>
          <li><a href="#explanation">The mathematics of Bézier curves</a></li>
        </ol>
      </nav>
    </header>

    <main>
      <section id="preface">
        <section id="preface">
          <h1>Preface</h1>
          <p>
            In order to draw things in 2D, we usually rely on lines, which
            typically get classified into two categories: straight lines, and
            curves. The first of these are as easy to draw as they are easy to
            make a computer draw. Give a computer the first and last point in
            the line, and BAM! straight line. No questions asked.
          </p>
          <p>
            Curves, however, are a much bigger problem. While we can draw curves
            with ridiculous ease freehand, computers are a bit handicapped in
            that they can't draw curves unless there is a mathematical function
            that describes how it should be drawn. In fact, they even need this
            for straight lines, but the function is ridiculously easy, so we
            tend to ignore that as far as computers are concerned; all lines are
            "functions", regardless of whether they're straight or curves.
            However, that does mean that we need to come up with fast-to-compute
            functions that lead to nice looking curves on a computer. There are
            a number of these, and in this article we'll focus on a particular
            function that has received quite a bit of attention and is used in
            pretty much anything that can draw curves: Bézier curves.
          </p>
          <p>
            They're named after
            <a href="https://en.wikipedia.org/wiki/Pierre_B%C3%A9zier"
              >Pierre Bézier</a
            >, who is principally responsible for making them known to the world
            as a curve well-suited for design work (publishing his
            investigations in 1962 while working for Renault), although he was
            not the first, or only one, to "invent" these type of curves. One
            might be tempted to say that the mathematician
            <a href="https://en.wikipedia.org/wiki/Paul_de_Casteljau"
              >Paul de Casteljau</a
            >
            was first, as he began investigating the nature of these curves in
            1959 while working at Citroën, and came up with a really elegant way
            of figuring out how to draw them. However, de Casteljau did not
            publish his work, making the question "who was first" hard to answer
            in any absolute sense. Or is it? Bézier curves are, at their core,
            "Bernstein polynomials", a family of mathematical functions
            investigated by
            <a href="https://en.wikipedia.org/wiki/Sergei_Natanovich_Bernstein"
              >Sergei Natanovich Bernstein</a
            >, whose publications on them date back at least as far as 1912.
          </p>
          <p>
            Anyway, that's mostly trivia, what you are more likely to care about
            is that these curves are handy: you can link up multiple Bézier
            curves so that the combination looks like a single curve. If you've
            ever drawn Photoshop "paths" or worked with vector drawing programs
            like Flash, Illustrator or Inkscape, those curves you've been
            drawing are Bézier curves.
          </p>
          <p>
            But what if you need to program them yourself? What are the
            pitfalls? How do you draw them? What are the bounding boxes, how do
            you determine intersections, how can you extrude a curve, in short:
            how do you do everything that you might want when you do with these
            curves? That's what this page is for. Prepare to be mathed!
          </p>
          <div class="print">
            <h2>PS: buy me a coffee?</h2>
            <p>
              If you enjoyed this book enough to print it out, you might be
              wondering if there is some way to give something back. To answer
              that question: you can always buy me a coffee, however-much a
              coffee is where you live. Or, if you want to pay a fair price for
              this book, you can buy me a really expensive coffee =)
            </p>
            <p>
              This book has grown over the years from a short primer to a 100+
              print-page-equivalent ebook on the subject of Bézier curves, and a
              lot of coffee went into the making of it. I don't regret a minute
              I spent on writing it, but I can always do with some more coffee
              to keep on writing! Please visit
              <a href="https://pomax.github.io/bezierinfo"
                >https://pomax.github.io/bezierinfo</a
              >
              and click on the link in the "Help support the book" preface
              section to donate some coffee money.
            </p>
          </div>

          <p>
            —Pomax (or in the tweetworld,
            <a href="https://twitter.com/TheRealPomax">@TheRealPomax</a>)
          </p>
          <div class="note">
            <h2>Virtually all Bézier graphics are interactive.</h2>
            <p>
              This page uses interactive examples, relying heavily on
              <a href="http://pomax.github.io/bezierjs">Bezier.js</a>, as well
              as maths formulae which are typeset into SVG using the
              <a href="https://ctan.org/pkg/xetex">XeLaTeX</a> typesetting
              system and
              <a href="https://github.com/dawbarton/pdf2svg">pdf2svg</a> by
              <a href="http://www.cityinthesky.co.uk/">David Barton</a>.
            </p>
            <h2>This book is open source.</h2>
            <p>
              This book is an open source software project, and lives on two
              github repositories. The first is
              <a href="https://github.com/pomax/bezierinfo"
                >https://github.com/pomax/bezierinfo</a
              >
              and is the purely-for-presentation version you are viewing right
              now. The other repository is
              <a href="https://github.com/pomax/BezierInfo-2"
                >https://github.com/pomax/BezierInfo-2</a
              >, which is the development version, housing all the HTML,
              JavaScript, and CSS. You can fork either of these, and pretty much
              do with them as you please, except for passing it off as your own
              work wholesale, of course =)
            </p>
            <h2>How complicated is the maths going to be?</h2>
            <p>
              Most of the mathematics in this Primer are early high school
              maths. If you understand basic arithmetic, and you know how to
              read English, you should be able to get by just fine. There will
              at times be <em>far</em> more complicated maths, but if you don't
              feel like digesting them, you can safely skip over them by either
              skipping over the "detail boxes" in section or by just jumping to
              the end of a section with maths that looks too involving. The end
              of sections typically simply list the conclusions so you can just
              work with those values directly.
            </p>
            <h2>Questions, comments:</h2>
            <p>
              If you have suggestions for new sections, hit up the
              <a href="https://github.com/pomax/BezierInfo-2/issues"
                >Github issue tracker</a
              >
              (also reachable from the repo linked to in the upper right). If
              you have questions about the material, there's currently no
              comment section while I'm doing the rewrite, but you can use the
              issue tracker for that as well. Once the rewrite is done, I'll add
              a general comment section back in, and maybe a more topical
              "select this section of text and hit the 'question' button to ask
              a question about it" system. We'll see.
            </p>
            <h2>Help support the book!</h2>
            <p>
              If you enjoyed this book, or you simply found it useful for
              something you were trying to get done, and you were wondering how
              to let me know you appreciated this book, you have two options:
              you can either head on over to the
              <a href="https://patreon.com/bezierinfo">Patreon page</a> for this
              book, or if you prefer to make a one-time donation, head on over
              to the
              <a
                href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=QPRDLNGDANJSW"
                >buy Pomax a coffee</a
              >
              page. This work has grown from a small primer to a 100-plus
              print-page-equivalent reader on the subject of Bézier curves over
              the years, and a lot of coffee went into the making of it. I don't
              regret a minute I spent on writing it, but I can always do with
              some more coffee to keep on writing!
            </p>
          </div>
        </section>
      </section>
      <section id="changelog">
        <h1>What's new?</h1>
        <p>
          This primer is a living document, and so depending on when you last
          look at it, there may be new content. Click the following link to
          expand this section to have a look at what got added, when.
        </p>
        <section>
          <h2>August 2020</h2>
          <ul>
            <li>
              Completely redid all the code for the site, except for chapter
              text: the Primer is now finally a normal web page again.
            </li>
          </ul>
          <h2>June 2020</h2>
          <ul>
            <li>Added automatic CI/CD using Github Actions</li>
          </ul>
          <h2>January 2020</h2>
          <ul>
            <li>Added reset buttons to all graphics</li>
            <li>Updated to preface to correctly describe the on-page maths</li>
            <li>
              Fixed the Catmull-Rom section because it had glaring maths errors
            </li>
          </ul>
          <h2>August 2019</h2>
          <ul>
            <li>Added a section on (plain) rational Bezier curves</li>
            <li>Improved the Graphic component to allow for sliders</li>
          </ul>
          <h2>December 2018</h2>
          <ul>
            <li>Added a section on curvature and calculating kappa.</li>
            <li>
              Added a Patreon page! Head on over to
              https://patreon.com/bezierinfo to help support this site!
            </li>
          </ul>
          <h2>August 2018</h2>
          <ul>
            <li>
              Added a section on finding a curve's y, if all you have is the x
              coordinate.
            </li>
          </ul>
          <h2>July 2018</h2>
          <ul>
            <li>
              Rewrote the 3D normals section, implementing and explaining
              Rotation Minimising Frames.
            </li>
            <li>
              Updated the section on curve order raising/lowering, showing how
              to get a least-squares optimized lower order curve.
            </li>
            <li>
              (Finally) updated 'npm test' so that it automatically rebuilds
              when files are changed while the dev server is running.
            </li>
          </ul>
          <h2>June 2018</h2>
          <ul>
            <li>Added a section on direct curve fitting.</li>
            <li>Added source links for all graphics.</li>
            <li>Added this "What's new?" section.</li>
          </ul>
          <h2>April 2017</h2>
          <ul>
            <li>Added a section on 3d normals.</li>
            <li>
              Added live-updating for the social link buttons, so they always
              link to the specific section you're reading.
            </li>
          </ul>
          <h2>February 2017</h2>
          <ul>
            <li>Finished rewriting the entire codebase for localization.</li>
          </ul>
          <h2>January 2016</h2>
          <ul>
            <li>Added a section to explain the Bezier interval.</li>
            <li>Rewrote the Primer as a React application.</li>
          </ul>
          <h2>December 2015</h2>
          <ul>
            <li>
              Set up the split repository between BezierInfo-2 as development
              repository, and bezierinfo as live page.
            </li>
            <li>
              Removed the need for client-side LaTeX parsing entirely, so the
              site doesn't take a full minute or more to load all the graphics.
            </li>
          </ul>
          <h2>May 2015</h2>
          <ul>
            <li>
              Switched over to pure JS rather than
              Processing-through-Processing.js
            </li>
            <li>
              Added Cardano's algorithm for finding the roots of a cubic
              polynomial.
            </li>
          </ul>
          <h2>April 2015</h2>
          <ul>
            <li>Added a section on arc length approximations.</li>
          </ul>
          <h2>February 2015</h2>
          <ul>
            <li>Added a section on the canonical cubic Bezier form.</li>
          </ul>
          <h2>November 2014</h2>
          <ul>
            <li>Switched to HTTPS.</li>
          </ul>
          <h2>July 2014</h2>
          <ul>
            <li>Added the section on arc approximation.</li>
          </ul>
          <h2>April 2014</h2>
          <ul>
            <li>Added the section on Catmull-Rom fitting.</li>
          </ul>
          <h2>November 2013</h2>
          <ul>
            <li>Added the section on Catmull-Rom / Bezier conversion.</li>
            <li>Added the section on Bezier cuves as matrices</li>
          </ul>
          <h2>April 2013</h2>
          <ul>
            <li>Added a section on poly-Beziers.</li>
            <li>Added a section on boolean shape operations.</li>
          </ul>
          <h2>March 2013</h2>
          <ul>
            <li>First drastic rewrite</li>
            <li>Added sections on circle approximations.</li>
            <li>Added a section on projecting a point onto a curve.</li>
            <li>Added a section on tangents and normals.</li>
            <li>Added Legendre-Gauss numerical data tables.</li>
          </ul>
          <h2>October 2011</h2>
          <ul>
            <li>
              First commit for the https://pomax.github.io/bezierinfo site,
              based on the pre-Primer webpage that covered the basics of Bezier
              curves in HTML with Processing.js examples.
            </li>
          </ul>
        </section>
      </section>
      <section id="chapters">
        <section id="introduction">
          <h1>A lightning introduction</h1>
          <p>
            Let's start with the good stuff: when we're talking about Bézier
            curves, we're talking about the things that you can see in the
            following graphics. They run from some start point to some end
            point, with their curvature influenced by one or more "intermediate"
            control points. Now, because all the graphics on this page are
            interactive, go manipulate those curves a bit: click-drag the
            points, and see how their shape changes based on what you do.
          </p>
          <div class="figure">
            <graphics-element
              title="A quadratic Bézier curve"
              width="275"
              height="275"
              src="./chapters/introduction/quadratic.js"
            >
              <fallback-image>
                <img
                  width="275px"
                  height="275px"
                  src="./images/chapters/introduction/quadratic.png"
                  loading="lazy"
                />
                Scripts are disabled. Showing fallback image.
              </fallback-image></graphics-element
            >
            <graphics-element
              title="A cubic Bézier curve"
              width="275"
              height="275"
              src="./chapters/introduction/cubic.js"
            >
              <fallback-image>
                <img
                  width="275px"
                  height="275px"
                  src="./images/chapters/introduction/cubic.png"
                  loading="lazy"
                />
                Scripts are disabled. Showing fallback image.
              </fallback-image></graphics-element
            >
          </div>

          <p>
            These curves are used a lot in computer aided design and computer
            aided manufacturing (CAD/CAM) applications, as well as in graphic
            design programs like Adobe Illustrator and Photoshop, Inkscape,
            GIMP, etc. and in graphic technologies like scalable vector graphics
            (SVG) and OpenType fonts (TTF/OTF). A lot of things use Bézier
            curves, so if you want to learn more about them... prepare to get
            your learn on!
          </p>
        </section>
        <section id="whatis">
          <h1>So what makes a Bézier Curve?</h1>
          <p>
            Playing with the points for curves may have given you a feel for how
            Bézier curves behave, but what <em>are</em> Bézier curves, really?
            There are two ways to explain what a Bézier curve is, and they turn
            out to be the entirely equivalent, but one of them uses complicated
            maths, and the other uses really simple maths. So... let's start
            with the simple explanation:
          </p>
          <p>
            Bézier curves are the result of
            <a href="https://en.wikipedia.org/wiki/Linear_interpolation"
              >linear interpolations</a
            >. That sounds complicated but you've been doing linear
            interpolation since you were very young: any time you had to point
            at something between two other things, you've been applying linear
            interpolation. It's simply "picking a point between two points".
          </p>
          <p>
            If we know the distance between those two points, and we want a new
            point that is, say, 20% the distance away from the first point (and
            thus 80% the distance away from the second point) then we can
            compute that really easily:
          </p>
          <img
            class="LaTeX SVG"
            src="images/latex/b5aa26284ba3df74970a95cb047a841d.svg"
            width="501px"
            height="103px"
            loading="lazy"
          />
          <p>
            So let's look at that in action: the following graphic is
            interactive in that you can use your up and down arrow keys to
            increase or decrease the interpolation ratio, to see what happens.
            We start with three points, which gives us two lines. Linear
            interpolation over those lines gives us two points, between which we
            can again perform linear interpolation, yielding a single point. And
            that point —and all points we can form in this way for all ratios
            taken together— form our Bézier curve:
          </p>
          <graphics-element
            title="Linear Interpolation leading to Bézier curves"
            width="825"
            height="275"
            src="./chapters/whatis/interpolation.js"
          >
            <fallback-image>
              <img
                width="825px"
                height="275px"
                src="./images/chapters/whatis/interpolation.png"
                loading="lazy"
              />
              Scripts are disabled. Showing fallback image.
            </fallback-image></graphics-element
          >

          <p>And that brings us to the complicated maths: calculus.</p>
          <p>
            While it doesn't look like that's what we've just done, we actually
            just drew a quadratic curve, in steps, rather than in a single go.
            One of the fascinating parts about Bézier curves is that they can
            both be described in terms of polynomial functions, as well as in
            terms of very simple interpolations of interpolations of [...].
            That, in turn, means we can look at what these curves can do based
            on both "real maths" (by examining the functions, their derivatives,
            and all that stuff), as well as by looking at the "mechanical"
            composition (which tells us, for instance, that a curve will never
            extend beyond the points we used to construct it).
          </p>
          <p>
            So let's start looking at Bézier curves a bit more in depth: their
            mathematical expressions, the properties we can derive from them,
            and the various things we can do to, and with, Bézier curves.
          </p>
        </section>
        <section id="explanation">
          <h1>The mathematics of Bézier curves</h1>
          <p>
            Bézier curves are a form of "parametric" function. Mathematically
            speaking, parametric functions are cheats: a "function" is actually
            a well defined term representing a mapping from any number of inputs
            to a <strong>single</strong> output. Numbers go in, a single number
            comes out. Change the numbers that go in, and the number that comes
            out is still a single number.
          </p>
          <p>
            Parametric functions cheat. They basically say "alright, well, we
            want multiple values coming out, so we'll just use more than one
            function". An illustration: Let's say we have a function that maps
            some value, let's call it <i>x</i>, to some other value, using some
            kind of number manipulation:
          </p>
          <img
            class="LaTeX SVG"
            src="images/latex/1caef9931f954e32eae5067b732c1018.svg"
            width="96px"
            height="17px"
            loading="lazy"
          />
          <p>
            The notation <i>f(x)</i> is the standard way to show that it's a
            function (by convention called <i>f</i> if we're only listing one)
            and its output changes based on one variable (in this case,
            <i>x</i>). Change <i>x</i>, and the output for <i>f(x)</i> changes.
          </p>
          <p>
            So far, so good. Now, let's look at parametric functions, and how
            they cheat. Let's take the following two functions:
          </p>
          <img
            class="LaTeX SVG"
            src="images/latex/0f5cffd58e864fec6739a57664eb8cbd.svg"
            width="93px"
            height="36px"
            loading="lazy"
          />
          <p>
            There's nothing really remarkable about them, they're just a sine
            and cosine function, but you'll notice the inputs have different
            names. If we change the value for <i>a</i>, we're not going to
            change the output value for <i>f(b)</i>, since <i>a</i> isn't used
            in that function. Parametric functions cheat by changing that. In a
            parametric function all the different functions share a variable,
            like this:
          </p>
          <img
            class="LaTeX SVG"
            src="images/latex/066a910ae6aba69c40a338320759cdd1.svg"
            width="100px"
            height="40px"
            loading="lazy"
          />
          <p>
            Multiple functions, but only one variable. If we change the value
            for <i>t</i>, we change the outcome of both
            <i>f<sub>a</sub>(t)</i> and <i>f<sub>b</sub>(t)</i>. You might
            wonder how that's useful, and the answer is actually pretty simple:
            if we change the labels <i>f<sub>a</sub>(t)</i> and
            <i>f<sub>b</sub>(t)</i> with what we usually mean with them for
            parametric curves, things might be a lot more obvious:
          </p>
          <img
            class="LaTeX SVG"
            src="images/latex/4cf6fb369841e2c5d36e5567a8db4306.svg"
            width="77px"
            height="40px"
            loading="lazy"
          />
          <p>
            There we go. <i>x</i>/<i>y</i> coordinates, linked through some
            mystery value <i>t</i>.
          </p>
          <p>
            So, parametric curves don't define a <i>y</i> coordinate in terms of
            an <i>x</i> coordinate, like normal functions do, but they instead
            link the values to a "control" variable. If we vary the value of
            <i>t</i>, then with every change we get <strong>two</strong> values,
            which we can use as (<i>x</i>,<i>y</i>) coordinates in a graph. The
            above set of functions, for instance, generates points on a circle:
            We can range <i>t</i> from negative to positive infinity, and the
            resulting (<i>x</i>,<i>y</i>) coordinates will always lie on a
            circle with radius 1 around the origin (0,0). If we plot it for
            <i>t</i> from 0 to 5, we get this (use your up and down arrow keys
            to change the plot end value):
          </p>
          <graphics-element
            title="A (partial) circle: x=sin(t), y=cos(t)"
            width="275"
            height="275"
            src="./chapters/explanation/circle.js"
          >
            <fallback-image>
              <img
                width="275px"
                height="275px"
                src="./images/chapters/explanation/circle.png"
                loading="lazy"
              />
              Scripts are disabled. Showing fallback image.
            </fallback-image></graphics-element
          >

          <p>
            Bézier curves are just one out of the many classes of parametric
            functions, and are characterised by using the same base function for
            all of the output values. In the example we saw above, the
            <i>x</i> and <i>y</i> values were generated by different functions
            (one uses a sine, the other a cosine); but Bézier curves use the
            "binomial polynomial" for both the <i>x</i> and <i>y</i> outputs. So
            what are binomial polynomials?
          </p>
          <p>
            You may remember polynomials from high school. They're those sums
            that look like this:
          </p>
          <img
            class="LaTeX SVG"
            src="images/latex/bb06cb82d372f822a7b35e661502bd72.svg"
            width="213px"
            height="20px"
            loading="lazy"
          />
          <p>
            If the highest order term they have is <i>x³</i>, they're called
            "cubic" polynomials; if it's <i>x²</i>, it's a "square" polynomial;
            if it's just <i>x</i>, it's a line (and if there aren't even any
            terms with <i>x</i> it's not a polynomial!)
          </p>
          <p>
            Bézier curves are polynomials of <i>t</i>, rather than <i>x</i>,
            with the value for <i>t</i> being fixed between 0 and 1, with
            coefficients <i>a</i>, <i>b</i> etc. taking the "binomial" form,
            which sounds fancy but is actually a pretty simple description for
            mixing values:
          </p>
          <img
            class="LaTeX SVG"
            src="images/latex/2adc12d0cff01d40d9e1702014a7dc19.svg"
            width="367px"
            height="64px"
            loading="lazy"
          />
          <p>
            I know what you're thinking: that doesn't look too simple! But if we
            remove <i>t</i> and add in "times one", things suddenly look pretty
            easy. Check out these binomial terms:
          </p>
          <img
            class="LaTeX SVG"
            src="images/latex/9c18f76e76cf684ecd217ad8facc2e93.svg"
            width="184px"
            height="87px"
            loading="lazy"
          />
          <p>
            Notice that 2 is the same as 1+1, and 3 is 2+1 and 1+2, and 6 is
            3+3... As you can see, each time we go up a dimension, we simply
            start and end with 1, and everything in between is just "the two
            numbers above it, added together", giving us a simple number
            sequence known as
            <a href="https://en.wikipedia.org/wiki/Pascal%27s_triangle"
              >Pascal's triangle</a
            >. Now <i>that's</i> easy to remember.
          </p>
          <p>
            There's an equally simple way to figure out how the polynomial terms
            work: if we rename <i>(1-t)</i> to <i>a</i> and <i>t</i> to
            <i>b</i>, and remove the weights for a moment, we get this:
          </p>
          <img
            class="LaTeX SVG"
            src="images/latex/449850dead8abbdd11cd4aec1bac082e.svg"
            width="903px"
            height="63px"
            loading="lazy"
          />
          <p>
            It's basically just a sum of "every combination of <i>a</i> and
            <i>b</i>", progressively replacing <i>a</i>'s with <i>b</i>'s after
            every + sign. So that's actually pretty simple too. So now you know
            binomial polynomials, and just for completeness I'm going to show
            you the generic function for this:
          </p>
          <img
            class="LaTeX SVG"
            src="images/latex/9a6d17c362980775f1425d0d2ad9a36a.svg"
            width="300px"
            height="55px"
            loading="lazy"
          />
          <p>
            And that's the full description for Bézier curves. Σ in this
            function indicates that this is a series of additions (using the
            variable listed below the Σ, starting at ...=&lt;value&gt; and
            ending at the value listed on top of the Σ).
          </p>
          <div class="howtocode">
            <h3>How to implement the basis function</h3>
            <p>
              We could naively implement the basis function as a mathematical
              construct, using the function as our guide, like this:
            </p>
            <pre><code>function Bezier(n,t):
  sum = 0
  for(k=0; k&lt;n; k++):
    sum += n!/(k!*(n-k)!) * (1-t)^(n-k) * t^(k)
  return sum</code></pre>
            <p>
              I say we could, because we're not going to: the factorial function
              is <em>incredibly</em> expensive. And, as we can see from the
              above explanation, we can actually create Pascal's triangle quite
              easily without it: just start at [1], then [1,1], then [1,2,1],
              then [1,3,3,1], and so on, with each next row fitting 1 more
              number than the previous row, starting and ending with "1", with
              all the numbers in between being the sum of the previous row's
              elements on either side "above" the one we're computing.
            </p>
            <p>
              We can generate this as a list of lists lightning fast, and then
              never have to compute the binomial terms because we have a lookup
              table:
            </p>
            <pre><code>lut = [      [1],           // n=0
            [1,1],          // n=1
           [1,2,1],         // n=2
          [1,3,3,1],        // n=3
         [1,4,6,4,1],       // n=4
        [1,5,10,10,5,1],    // n=5
       [1,6,15,20,15,6,1]]  // n=6

function binomial(n,k):
  while(n &gt;= lut.length):
    s = lut.length
    nextRow = new array(size=s+1)
    nextRow[0] = 1
    for(i=1, prev=s-1; i&lt;s; i++):
      nextRow[i] = lut[prev][i-1] + lut[prev][i]
    nextRow[s] = 1
    lut.add(nextRow)
  return lut[n][k]</code></pre>
            <p>
              So what's going on here? First, we declare a lookup table with a
              size that's reasonably large enough to accommodate most lookups.
              Then, we declare a function to get us the values we need, and we
              make sure that if an <i>n/k</i> pair is requested that isn't in
              the LUT yet, we expand it first. Our basis function now looks like
              this:
            </p>
            <pre><code>function Bezier(n,t):
  sum = 0
  for(k=0; k&lt;=n; k++):
    sum += binomial(n,k) * (1-t)^(n-k) * t^(k)
  return sum</code></pre>
            <p>
              Perfect. Of course, we can optimize further. For most computer
              graphics purposes, we don't need arbitrary curves (although we
              will also provide code for arbitrary curves in this primer); we
              need quadratic and cubic curves, and that means we can drastically
              simplify the code:
            </p>
            <pre><code>function Bezier(2,t):
  t2 = t * t
  mt = 1-t
  mt2 = mt * mt
  return mt2 + 2*mt*t + t2

function Bezier(3,t):
  t2 = t * t
  t3 = t2 * t
  mt = 1-t
  mt2 = mt * mt
  mt3 = mt2 * mt
  return mt3 + 3*mt2*t + 3*mt*t2 + t3</code></pre>
            <p>And now we know how to program the basis function. Excellent.</p>
          </div>

          <p>
            So, now we know what the basis function looks like, time to add in
            the magic that makes Bézier curves so special: control points.
          </p>
        </section>
      </section>
    </main>
  </body>
</html>
