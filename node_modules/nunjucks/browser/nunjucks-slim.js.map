{"version":3,"sources":["../webpack/universalModuleDefinition","../webpack/bootstrap 8870c80dc8aca4c481a0","../nunjucks/src/lib.js","../nunjucks/src/runtime.js","../nunjucks/src/precompiled-loader.js","../nunjucks/src/loader.js","../nunjucks/src/object.js","../nunjucks/index.js","../nunjucks/src/environment.js","../node_modules/asap/browser-asap.js","../node_modules/asap/browser-raw.js","../node_modules/webpack/buildin/global.js","../node_modules/a-sync-waterfall/index.js","../nunjucks/src/filters.js","../node_modules/webpack/node_modules/events/events.js","../nunjucks/src/tests.js","../nunjucks/src/globals.js","../nunjucks/src/express-app.js","../nunjucks/src/jinja-compat.js"],"names":["ArrayProto","Array","prototype","ObjProto","Object","escapeMap","escapeRegex","exports","module","hasOwnProp","obj","k","hasOwnProperty","call","lookupEscape","ch","_prettifyError","path","withInternals","err","Update","TemplateError","old","Error","message","name","lineno","colno","cause","setPrototypeOf","defineProperty","enumerable","writable","value","captureStackTrace","constructor","getStack","stackDescriptor","getOwnPropertyDescriptor","get","stack","firstUpdate","msg","create","escape","val","replace","isFunction","toString","isArray","isString","isObject","_prepareAttributeParts","attr","split","getAttrGetter","attribute","parts","attrGetter","item","_item","i","length","part","undefined","groupBy","throwOnUndefined","result","iterator","key","TypeError","push","toArray","slice","without","array","contains","arguments","index","indexOf","repeat","char_","n","str","each","func","context","forEach","l","map","results","asyncIter","arr","iter","cb","next","asyncFor","keys","keys_","len","searchElement","fromIndex","_entries","_values","extend","obj1","obj2","_assign","inOperator","lib","require","arrayFrom","from","supportsIterators","Symbol","Frame","parent","isolateWrites","variables","topLevel","set","resolveUp","frame","resolve","id","lookup","p","forWrite","pop","makeMacro","argNames","kwargNames","macroArgs","argCount","numArgs","args","kwargs","getKeywordArgs","arg","apply","makeKeywordArgs","__keywords","isKeywordArgs","lastArg","SafeString","String","configurable","valueOf","copySafeness","dest","target","markSafe","type","wrapSafe","ret","suppressValue","autoescape","ensureDefined","memberLookup","callWrap","contextOrFrameLookup","handleError","error","asyncEach","dimen","iterCallback","asyncAll","finished","outputArr","done","output","join","fromIterator","Loader","PrecompiledLoader","compiledTemplates","precompiled","getSource","src","EmitterObj","to","dirname","isRelative","filename","EventEmitter","parentWrap","prop","wrap","tmp","res","extendClass","cls","props","subclass","Obj","init","Environment","Template","loaders","precompile","compiler","parser","lexer","runtime","nodes","installJinjaCompat","e","configure","templatesPath","opts","TemplateLoader","FileSystemLoader","watch","noCache","WebLoader","useCache","web","async","express","NodeResolveLoader","reset","compile","env","eagerCompile","render","ctx","renderString","precompileString","asap","waterfall","filters","tests","globals","globalRuntime","expressApp","callbackAsap","noopTmplSrc","root","dev","trimBlocks","lstripBlocks","window","nunjucksPrecompiled","unshift","_initLoaders","asyncFilters","extensions","extensionsList","filter","addFilter","test","addTest","loader","cache","on","fullname","emit","source","invalidateCache","addExtension","extension","__name","removeExtension","getExtension","hasExtension","addGlobal","getGlobal","wrapped","getFilter","getTest","resolveTemplate","parentName","getTemplate","ignoreMissing","that","tmpl","raw","syncResult","createTemplate","info","newTmpl","handle","app","tasks","callback","forceAsync","Context","blocks","exported","addBlock","setVariable","getVariables","block","getBlock","getSuper","idx","blk","addExport","getExported","tmplProps","tmplStr","_compile","compiled","parentFrame","didError","rootRenderFunc","Function","_getBlocks","r","normalize","defaultValue","abs","Math","isNaN","num","batch","linecount","fillWith","capitalize","toLowerCase","charAt","toUpperCase","center","width","spaces","pre","post","default_","def","bool","dictsort","caseSensitive","by","si","sort","t1","t2","a","b","dump","JSON","stringify","safe","first","forceescape","groupby","indent","indentfirst","lines","sp","del","v","last","lengthFilter","Map","Set","size","list","lower","nl2br","random","floor","getSelectOrReject","expectedTestResult","testName","secondArg","examineTestResult","reject","rejectattr","select","selectattr","new_","maxCount","originalStr","RegExp","nextIndex","pos","count","substring","reverse","round","precision","method","factor","pow","rounder","ceil","slices","sliceLength","extra","offset","start","end","currSlice","sum","reduce","reversed","caseSens","x","y","string","striptags","input","preserveLinebreaks","tags","trimmedInput","trim","title","words","word","truncate","killwords","orig","lastIndexOf","upper","urlencode","enc","encodeURIComponent","keyvals","puncRe","emailRe","httpHttpsRe","wwwRe","tldRe","urlize","nofollow","Infinity","noFollowAttr","matches","match","possibleUrl","shortUrl","substr","wordcount","float","parseFloat","int","parseInt","d","default","callable","defined","divisibleby","one","two","escaped","equalto","eq","sameas","even","falsy","ge","greaterthan","gt","le","lessthan","lt","ne","nullTest","null","number","odd","truthy","undefinedTest","iterable","mapping","cycler","items","current","joiner","sep","range","stop","step","NunjucksView","defaultEngine","ext","extname","installCompat","Compiler","Parser","orig_contextOrFrameLookup","orig_memberLookup","orig_Compiler_assertType","orig_Parser_parseAggregate","assertType","parseAggregate","uninstall","getTokensState","tokens","process","Slice","Node","fields","Literal","node","compileSlice","_emit","_compileExpression","origState","errState","rethrow","peeked","tok","peekToken","TOKEN_LEFT_BRACKET","nextToken","isSlice","skip","TOKEN_RIGHT_BRACKET","fail","TOKEN_COLON","field","parseExpression","sliceLookup","ARRAY_MEMBERS","splice","append","element","remove","find","insert","elem","OBJECT_MEMBERS","values","has_key","popitem","setdefault","update","iteritems","itervalues","iterkeys","bind"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9NA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AA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KAAT,CAAerY,GAAf,EAAoB2R,GAApB,EAAyB;AACvB,MAAI3I,GAAG,GAAGsP,UAAU,CAACtY,GAAD,CAApB;AACA,SAAQ4Q,KAAK,CAAC5H,GAAD,CAAN,GAAe2I,GAAf,GAAqB3I,GAA5B;AACD;;AAEDtL,OAAO,CAAC2a,KAAR,GAAgBA,KAAhB;;AAEA,SAASE,GAAT,CAAavY,GAAb,EAAkB2R,GAAlB,EAAuB;AACrB,MAAI3I,GAAG,GAAGwP,QAAQ,CAACxY,GAAD,EAAM,EAAN,CAAlB;AACA,SAAQ4Q,KAAK,CAAC5H,GAAD,CAAN,GAAe2I,GAAf,GAAqB3I,GAA5B;AACD;;AAEDtL,OAAO,CAAC6a,GAAR,GAAcA,GAAd,C,CAEA;;AACA7a,OAAO,CAAC+a,CAAR,GAAY/a,OAAO,CAACgb,OAApB;AACAhb,OAAO,CAACuM,CAAR,GAAYvM,OAAO,CAACqC,MAApB,C;;;;;;;AC3nBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA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","file":"nunjucks-slim.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"nunjucks\"] = factory();\n\telse\n\t\troot[\"nunjucks\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8870c80dc8aca4c481a0","'use strict';\n\nvar ArrayProto = Array.prototype;\nvar ObjProto = Object.prototype;\n\nvar escapeMap = {\n  '&': '&amp;',\n  '\"': '&quot;',\n  '\\'': '&#39;',\n  '<': '&lt;',\n  '>': '&gt;'\n};\n\nvar escapeRegex = /[&\"'<>]/g;\n\nvar exports = module.exports = {};\n\nfunction hasOwnProp(obj, k) {\n  return ObjProto.hasOwnProperty.call(obj, k);\n}\n\nexports.hasOwnProp = hasOwnProp;\n\nfunction lookupEscape(ch) {\n  return escapeMap[ch];\n}\n\nfunction _prettifyError(path, withInternals, err) {\n  if (!err.Update) {\n    // not one of ours, cast it\n    err = new exports.TemplateError(err);\n  }\n  err.Update(path);\n\n  // Unless they marked the dev flag, show them a trace from here\n  if (!withInternals) {\n    const old = err;\n    err = new Error(old.message);\n    err.name = old.name;\n  }\n\n  return err;\n}\n\nexports._prettifyError = _prettifyError;\n\nfunction TemplateError(message, lineno, colno) {\n  var err;\n  var cause;\n\n  if (message instanceof Error) {\n    cause = message;\n    message = `${cause.name}: ${cause.message}`;\n  }\n\n  if (Object.setPrototypeOf) {\n    err = new Error(message);\n    Object.setPrototypeOf(err, TemplateError.prototype);\n  } else {\n    err = this;\n    Object.defineProperty(err, 'message', {\n      enumerable: false,\n      writable: true,\n      value: message,\n    });\n  }\n\n  Object.defineProperty(err, 'name', {\n    value: 'Template render error',\n  });\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(err, this.constructor);\n  }\n\n  let getStack;\n\n  if (cause) {\n    const stackDescriptor = Object.getOwnPropertyDescriptor(cause, 'stack');\n    getStack = stackDescriptor && (stackDescriptor.get || (() => stackDescriptor.value));\n    if (!getStack) {\n      getStack = () => cause.stack;\n    }\n  } else {\n    const stack = (new Error(message)).stack;\n    getStack = (() => stack);\n  }\n\n  Object.defineProperty(err, 'stack', {\n    get: () => getStack.call(err),\n  });\n\n  Object.defineProperty(err, 'cause', {\n    value: cause\n  });\n\n  err.lineno = lineno;\n  err.colno = colno;\n  err.firstUpdate = true;\n\n  err.Update = function Update(path) {\n    let msg = '(' + (path || 'unknown path') + ')';\n\n    // only show lineno + colno next to path of template\n    // where error occurred\n    if (this.firstUpdate) {\n      if (this.lineno && this.colno) {\n        msg += ` [Line ${this.lineno}, Column ${this.colno}]`;\n      } else if (this.lineno) {\n        msg += ` [Line ${this.lineno}]`;\n      }\n    }\n\n    msg += '\\n ';\n    if (this.firstUpdate) {\n      msg += ' ';\n    }\n\n    this.message = msg + (this.message || '');\n    this.firstUpdate = false;\n    return this;\n  };\n\n  return err;\n}\n\n\nif (Object.setPrototypeOf) {\n  Object.setPrototypeOf(TemplateError.prototype, Error.prototype);\n} else {\n  TemplateError.prototype = Object.create(Error.prototype, {\n    constructor: {\n      value: TemplateError,\n    },\n  });\n}\n\nexports.TemplateError = TemplateError;\n\nfunction escape(val) {\n  return val.replace(escapeRegex, lookupEscape);\n}\n\nexports.escape = escape;\n\nfunction isFunction(obj) {\n  return ObjProto.toString.call(obj) === '[object Function]';\n}\n\nexports.isFunction = isFunction;\n\nfunction isArray(obj) {\n  return ObjProto.toString.call(obj) === '[object Array]';\n}\n\nexports.isArray = isArray;\n\nfunction isString(obj) {\n  return ObjProto.toString.call(obj) === '[object String]';\n}\n\nexports.isString = isString;\n\nfunction isObject(obj) {\n  return ObjProto.toString.call(obj) === '[object Object]';\n}\n\nexports.isObject = isObject;\n\n/**\n * @param {string|number} attr\n * @returns {(string|number)[]}\n * @private\n */\nfunction _prepareAttributeParts(attr) {\n  if (!attr) {\n    return [];\n  }\n\n  if (typeof attr === 'string') {\n    return attr.split('.');\n  }\n\n  return [attr];\n}\n\n/**\n * @param {string}   attribute      Attribute value. Dots allowed.\n * @returns {function(Object): *}\n */\nfunction getAttrGetter(attribute) {\n  const parts = _prepareAttributeParts(attribute);\n\n  return function attrGetter(item) {\n    let _item = item;\n\n    for (let i = 0; i < parts.length; i++) {\n      const part = parts[i];\n\n      // If item is not an object, and we still got parts to handle, it means\n      // that something goes wrong. Just roll out to undefined in that case.\n      if (hasOwnProp(_item, part)) {\n        _item = _item[part];\n      } else {\n        return undefined;\n      }\n    }\n\n    return _item;\n  };\n}\n\nfunction groupBy(obj, val, throwOnUndefined) {\n  const result = {};\n  const iterator = isFunction(val) ? val : getAttrGetter(val);\n  for (let i = 0; i < obj.length; i++) {\n    const value = obj[i];\n    const key = iterator(value, i);\n    if (key === undefined && throwOnUndefined === true) {\n      throw new TypeError(`groupby: attribute \"${val}\" resolved to undefined`);\n    }\n    (result[key] || (result[key] = [])).push(value);\n  }\n  return result;\n}\n\nexports.groupBy = groupBy;\n\nfunction toArray(obj) {\n  return Array.prototype.slice.call(obj);\n}\n\nexports.toArray = toArray;\n\nfunction without(array) {\n  const result = [];\n  if (!array) {\n    return result;\n  }\n  const length = array.length;\n  const contains = toArray(arguments).slice(1);\n  let index = -1;\n\n  while (++index < length) {\n    if (indexOf(contains, array[index]) === -1) {\n      result.push(array[index]);\n    }\n  }\n  return result;\n}\n\nexports.without = without;\n\nfunction repeat(char_, n) {\n  var str = '';\n  for (let i = 0; i < n; i++) {\n    str += char_;\n  }\n  return str;\n}\n\nexports.repeat = repeat;\n\nfunction each(obj, func, context) {\n  if (obj == null) {\n    return;\n  }\n\n  if (ArrayProto.forEach && obj.forEach === ArrayProto.forEach) {\n    obj.forEach(func, context);\n  } else if (obj.length === +obj.length) {\n    for (let i = 0, l = obj.length; i < l; i++) {\n      func.call(context, obj[i], i, obj);\n    }\n  }\n}\n\nexports.each = each;\n\nfunction map(obj, func) {\n  var results = [];\n  if (obj == null) {\n    return results;\n  }\n\n  if (ArrayProto.map && obj.map === ArrayProto.map) {\n    return obj.map(func);\n  }\n\n  for (let i = 0; i < obj.length; i++) {\n    results[results.length] = func(obj[i], i);\n  }\n\n  if (obj.length === +obj.length) {\n    results.length = obj.length;\n  }\n\n  return results;\n}\n\nexports.map = map;\n\nfunction asyncIter(arr, iter, cb) {\n  let i = -1;\n\n  function next() {\n    i++;\n\n    if (i < arr.length) {\n      iter(arr[i], i, next, cb);\n    } else {\n      cb();\n    }\n  }\n\n  next();\n}\n\nexports.asyncIter = asyncIter;\n\nfunction asyncFor(obj, iter, cb) {\n  const keys = keys_(obj || {});\n  const len = keys.length;\n  let i = -1;\n\n  function next() {\n    i++;\n    const k = keys[i];\n\n    if (i < len) {\n      iter(k, obj[k], i, len, next);\n    } else {\n      cb();\n    }\n  }\n\n  next();\n}\n\nexports.asyncFor = asyncFor;\n\nfunction indexOf(arr, searchElement, fromIndex) {\n  return Array.prototype.indexOf.call(arr || [], searchElement, fromIndex);\n}\n\nexports.indexOf = indexOf;\n\nfunction keys_(obj) {\n  /* eslint-disable no-restricted-syntax */\n  const arr = [];\n  for (let k in obj) {\n    if (hasOwnProp(obj, k)) {\n      arr.push(k);\n    }\n  }\n  return arr;\n}\n\nexports.keys = keys_;\n\nfunction _entries(obj) {\n  return keys_(obj).map((k) => [k, obj[k]]);\n}\n\nexports._entries = _entries;\n\nfunction _values(obj) {\n  return keys_(obj).map((k) => obj[k]);\n}\n\nexports._values = _values;\n\nfunction extend(obj1, obj2) {\n  obj1 = obj1 || {};\n  keys_(obj2).forEach(k => {\n    obj1[k] = obj2[k];\n  });\n  return obj1;\n}\n\nexports._assign = exports.extend = extend;\n\nfunction inOperator(key, val) {\n  if (isArray(val) || isString(val)) {\n    return val.indexOf(key) !== -1;\n  } else if (isObject(val)) {\n    return key in val;\n  }\n  throw new Error('Cannot use \"in\" operator to search for \"'\n    + key + '\" in unexpected types.');\n}\n\nexports.inOperator = inOperator;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/lib.js","'use strict';\n\nvar lib = require('./lib');\nvar arrayFrom = Array.from;\nvar supportsIterators = (\n  typeof Symbol === 'function' && Symbol.iterator && typeof arrayFrom === 'function'\n);\n\n\n// Frames keep track of scoping both at compile-time and run-time so\n// we know how to access variables. Block tags can introduce special\n// variables, for example.\nclass Frame {\n  constructor(parent, isolateWrites) {\n    this.variables = {};\n    this.parent = parent;\n    this.topLevel = false;\n    // if this is true, writes (set) should never propagate upwards past\n    // this frame to its parent (though reads may).\n    this.isolateWrites = isolateWrites;\n  }\n\n  set(name, val, resolveUp) {\n    // Allow variables with dots by automatically creating the\n    // nested structure\n    var parts = name.split('.');\n    var obj = this.variables;\n    var frame = this;\n\n    if (resolveUp) {\n      if ((frame = this.resolve(parts[0], true))) {\n        frame.set(name, val);\n        return;\n      }\n    }\n\n    for (let i = 0; i < parts.length - 1; i++) {\n      const id = parts[i];\n\n      if (!obj[id]) {\n        obj[id] = {};\n      }\n      obj = obj[id];\n    }\n\n    obj[parts[parts.length - 1]] = val;\n  }\n\n  get(name) {\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return val;\n    }\n    return null;\n  }\n\n  lookup(name) {\n    var p = this.parent;\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return val;\n    }\n    return p && p.lookup(name);\n  }\n\n  resolve(name, forWrite) {\n    var p = (forWrite && this.isolateWrites) ? undefined : this.parent;\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return this;\n    }\n    return p && p.resolve(name);\n  }\n\n  push(isolateWrites) {\n    return new Frame(this, isolateWrites);\n  }\n\n  pop() {\n    return this.parent;\n  }\n}\n\nfunction makeMacro(argNames, kwargNames, func) {\n  return (...macroArgs) => {\n    var argCount = numArgs(macroArgs);\n    var args;\n    var kwargs = getKeywordArgs(macroArgs);\n\n    if (argCount > argNames.length) {\n      args = macroArgs.slice(0, argNames.length);\n\n      // Positional arguments that should be passed in as\n      // keyword arguments (essentially default values)\n      macroArgs.slice(args.length, argCount).forEach((val, i) => {\n        if (i < kwargNames.length) {\n          kwargs[kwargNames[i]] = val;\n        }\n      });\n      args.push(kwargs);\n    } else if (argCount < argNames.length) {\n      args = macroArgs.slice(0, argCount);\n\n      for (let i = argCount; i < argNames.length; i++) {\n        const arg = argNames[i];\n\n        // Keyword arguments that should be passed as\n        // positional arguments, i.e. the caller explicitly\n        // used the name of a positional arg\n        args.push(kwargs[arg]);\n        delete kwargs[arg];\n      }\n      args.push(kwargs);\n    } else {\n      args = macroArgs;\n    }\n\n    return func.apply(this, args);\n  };\n}\n\nfunction makeKeywordArgs(obj) {\n  obj.__keywords = true;\n  return obj;\n}\n\nfunction isKeywordArgs(obj) {\n  return obj && Object.prototype.hasOwnProperty.call(obj, '__keywords');\n}\n\nfunction getKeywordArgs(args) {\n  var len = args.length;\n  if (len) {\n    const lastArg = args[len - 1];\n    if (isKeywordArgs(lastArg)) {\n      return lastArg;\n    }\n  }\n  return {};\n}\n\nfunction numArgs(args) {\n  var len = args.length;\n  if (len === 0) {\n    return 0;\n  }\n\n  const lastArg = args[len - 1];\n  if (isKeywordArgs(lastArg)) {\n    return len - 1;\n  } else {\n    return len;\n  }\n}\n\n// A SafeString object indicates that the string should not be\n// autoescaped. This happens magically because autoescaping only\n// occurs on primitive string objects.\nfunction SafeString(val) {\n  if (typeof val !== 'string') {\n    return val;\n  }\n\n  this.val = val;\n  this.length = val.length;\n}\n\nSafeString.prototype = Object.create(String.prototype, {\n  length: {\n    writable: true,\n    configurable: true,\n    value: 0\n  }\n});\nSafeString.prototype.valueOf = function valueOf() {\n  return this.val;\n};\nSafeString.prototype.toString = function toString() {\n  return this.val;\n};\n\nfunction copySafeness(dest, target) {\n  if (dest instanceof SafeString) {\n    return new SafeString(target);\n  }\n  return target.toString();\n}\n\nfunction markSafe(val) {\n  var type = typeof val;\n\n  if (type === 'string') {\n    return new SafeString(val);\n  } else if (type !== 'function') {\n    return val;\n  } else {\n    return function wrapSafe(args) {\n      var ret = val.apply(this, arguments);\n\n      if (typeof ret === 'string') {\n        return new SafeString(ret);\n      }\n\n      return ret;\n    };\n  }\n}\n\nfunction suppressValue(val, autoescape) {\n  val = (val !== undefined && val !== null) ? val : '';\n\n  if (autoescape && !(val instanceof SafeString)) {\n    val = lib.escape(val.toString());\n  }\n\n  return val;\n}\n\nfunction ensureDefined(val, lineno, colno) {\n  if (val === null || val === undefined) {\n    throw new lib.TemplateError(\n      'attempted to output null or undefined value',\n      lineno + 1,\n      colno + 1\n    );\n  }\n  return val;\n}\n\nfunction memberLookup(obj, val) {\n  if (obj === undefined || obj === null) {\n    return undefined;\n  }\n\n  if (typeof obj[val] === 'function') {\n    return (...args) => obj[val].apply(obj, args);\n  }\n\n  return obj[val];\n}\n\nfunction callWrap(obj, name, context, args) {\n  if (!obj) {\n    throw new Error('Unable to call `' + name + '`, which is undefined or falsey');\n  } else if (typeof obj !== 'function') {\n    throw new Error('Unable to call `' + name + '`, which is not a function');\n  }\n\n  return obj.apply(context, args);\n}\n\nfunction contextOrFrameLookup(context, frame, name) {\n  var val = frame.lookup(name);\n  return (val !== undefined) ?\n    val :\n    context.lookup(name);\n}\n\nfunction handleError(error, lineno, colno) {\n  if (error.lineno) {\n    return error;\n  } else {\n    return new lib.TemplateError(error, lineno, colno);\n  }\n}\n\nfunction asyncEach(arr, dimen, iter, cb) {\n  if (lib.isArray(arr)) {\n    const len = arr.length;\n\n    lib.asyncIter(arr, function iterCallback(item, i, next) {\n      switch (dimen) {\n        case 1:\n          iter(item, i, len, next);\n          break;\n        case 2:\n          iter(item[0], item[1], i, len, next);\n          break;\n        case 3:\n          iter(item[0], item[1], item[2], i, len, next);\n          break;\n        default:\n          item.push(i, len, next);\n          iter.apply(this, item);\n      }\n    }, cb);\n  } else {\n    lib.asyncFor(arr, function iterCallback(key, val, i, len, next) {\n      iter(key, val, i, len, next);\n    }, cb);\n  }\n}\n\nfunction asyncAll(arr, dimen, func, cb) {\n  var finished = 0;\n  var len;\n  var outputArr;\n\n  function done(i, output) {\n    finished++;\n    outputArr[i] = output;\n\n    if (finished === len) {\n      cb(null, outputArr.join(''));\n    }\n  }\n\n  if (lib.isArray(arr)) {\n    len = arr.length;\n    outputArr = new Array(len);\n\n    if (len === 0) {\n      cb(null, '');\n    } else {\n      for (let i = 0; i < arr.length; i++) {\n        const item = arr[i];\n\n        switch (dimen) {\n          case 1:\n            func(item, i, len, done);\n            break;\n          case 2:\n            func(item[0], item[1], i, len, done);\n            break;\n          case 3:\n            func(item[0], item[1], item[2], i, len, done);\n            break;\n          default:\n            item.push(i, len, done);\n            func.apply(this, item);\n        }\n      }\n    }\n  } else {\n    const keys = lib.keys(arr || {});\n    len = keys.length;\n    outputArr = new Array(len);\n\n    if (len === 0) {\n      cb(null, '');\n    } else {\n      for (let i = 0; i < keys.length; i++) {\n        const k = keys[i];\n        func(k, arr[k], i, len, done);\n      }\n    }\n  }\n}\n\nfunction fromIterator(arr) {\n  if (typeof arr !== 'object' || arr === null || lib.isArray(arr)) {\n    return arr;\n  } else if (supportsIterators && Symbol.iterator in arr) {\n    return arrayFrom(arr);\n  } else {\n    return arr;\n  }\n}\n\nmodule.exports = {\n  Frame: Frame,\n  makeMacro: makeMacro,\n  makeKeywordArgs: makeKeywordArgs,\n  numArgs: numArgs,\n  suppressValue: suppressValue,\n  ensureDefined: ensureDefined,\n  memberLookup: memberLookup,\n  contextOrFrameLookup: contextOrFrameLookup,\n  callWrap: callWrap,\n  handleError: handleError,\n  isArray: lib.isArray,\n  keys: lib.keys,\n  SafeString: SafeString,\n  copySafeness: copySafeness,\n  markSafe: markSafe,\n  asyncEach: asyncEach,\n  asyncAll: asyncAll,\n  inOperator: lib.inOperator,\n  fromIterator: fromIterator\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/runtime.js","'use strict';\n\nconst Loader = require('./loader');\n\nclass PrecompiledLoader extends Loader {\n  constructor(compiledTemplates) {\n    super();\n    this.precompiled = compiledTemplates || {};\n  }\n\n  getSource(name) {\n    if (this.precompiled[name]) {\n      return {\n        src: {\n          type: 'code',\n          obj: this.precompiled[name]\n        },\n        path: name\n      };\n    }\n    return null;\n  }\n}\n\nmodule.exports = {\n  PrecompiledLoader: PrecompiledLoader,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/precompiled-loader.js","'use strict';\n\nconst path = require('path');\nconst {EmitterObj} = require('./object');\n\nmodule.exports = class Loader extends EmitterObj {\n  resolve(from, to) {\n    return path.resolve(path.dirname(from), to);\n  }\n\n  isRelative(filename) {\n    return (filename.indexOf('./') === 0 || filename.indexOf('../') === 0);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/loader.js","'use strict';\n\n// A simple class system, more documentation to come\nconst EventEmitter = require('events');\nconst lib = require('./lib');\n\nfunction parentWrap(parent, prop) {\n  if (typeof parent !== 'function' || typeof prop !== 'function') {\n    return prop;\n  }\n  return function wrap() {\n    // Save the current parent method\n    const tmp = this.parent;\n\n    // Set parent to the previous method, call, and restore\n    this.parent = parent;\n    const res = prop.apply(this, arguments);\n    this.parent = tmp;\n\n    return res;\n  };\n}\n\nfunction extendClass(cls, name, props) {\n  props = props || {};\n\n  lib.keys(props).forEach(k => {\n    props[k] = parentWrap(cls.prototype[k], props[k]);\n  });\n\n  class subclass extends cls {\n    get typename() {\n      return name;\n    }\n  }\n\n  lib._assign(subclass.prototype, props);\n\n  return subclass;\n}\n\nclass Obj {\n  constructor(...args) {\n    // Unfortunately necessary for backwards compatibility\n    this.init(...args);\n  }\n\n  init() {}\n\n  get typename() {\n    return this.constructor.name;\n  }\n\n  static extend(name, props) {\n    if (typeof name === 'object') {\n      props = name;\n      name = 'anonymous';\n    }\n    return extendClass(this, name, props);\n  }\n}\n\nclass EmitterObj extends EventEmitter {\n  constructor(...args) {\n    super();\n    // Unfortunately necessary for backwards compatibility\n    this.init(...args);\n  }\n\n  init() {}\n\n  get typename() {\n    return this.constructor.name;\n  }\n\n  static extend(name, props) {\n    if (typeof name === 'object') {\n      props = name;\n      name = 'anonymous';\n    }\n    return extendClass(this, name, props);\n  }\n}\n\nmodule.exports = { Obj, EmitterObj };\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/object.js","'use strict';\n\nconst lib = require('./src/lib');\nconst {Environment, Template} = require('./src/environment');\nconst Loader = require('./src/loader');\nconst loaders = require('./src/loaders');\nconst precompile = require('./src/precompile');\nconst compiler = require('./src/compiler');\nconst parser = require('./src/parser');\nconst lexer = require('./src/lexer');\nconst runtime = require('./src/runtime');\nconst nodes = require('./src/nodes');\nconst installJinjaCompat = require('./src/jinja-compat');\n\n// A single instance of an environment, since this is so commonly used\nlet e;\n\nfunction configure(templatesPath, opts) {\n  opts = opts || {};\n  if (lib.isObject(templatesPath)) {\n    opts = templatesPath;\n    templatesPath = null;\n  }\n\n  let TemplateLoader;\n  if (loaders.FileSystemLoader) {\n    TemplateLoader = new loaders.FileSystemLoader(templatesPath, {\n      watch: opts.watch,\n      noCache: opts.noCache\n    });\n  } else if (loaders.WebLoader) {\n    TemplateLoader = new loaders.WebLoader(templatesPath, {\n      useCache: opts.web && opts.web.useCache,\n      async: opts.web && opts.web.async\n    });\n  }\n\n  e = new Environment(TemplateLoader, opts);\n\n  if (opts && opts.express) {\n    e.express(opts.express);\n  }\n\n  return e;\n}\n\nmodule.exports = {\n  Environment: Environment,\n  Template: Template,\n  Loader: Loader,\n  FileSystemLoader: loaders.FileSystemLoader,\n  NodeResolveLoader: loaders.NodeResolveLoader,\n  PrecompiledLoader: loaders.PrecompiledLoader,\n  WebLoader: loaders.WebLoader,\n  compiler: compiler,\n  parser: parser,\n  lexer: lexer,\n  runtime: runtime,\n  lib: lib,\n  nodes: nodes,\n  installJinjaCompat: installJinjaCompat,\n  configure: configure,\n  reset() {\n    e = undefined;\n  },\n  compile(src, env, path, eagerCompile) {\n    if (!e) {\n      configure();\n    }\n    return new Template(src, env, path, eagerCompile);\n  },\n  render(name, ctx, cb) {\n    if (!e) {\n      configure();\n    }\n\n    return e.render(name, ctx, cb);\n  },\n  renderString(src, ctx, cb) {\n    if (!e) {\n      configure();\n    }\n\n    return e.renderString(src, ctx, cb);\n  },\n  precompile: (precompile) ? precompile.precompile : undefined,\n  precompileString: (precompile) ? precompile.precompileString : undefined,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/index.js","'use strict';\n\nconst asap = require('asap');\nconst waterfall = require('a-sync-waterfall');\nconst lib = require('./lib');\nconst compiler = require('./compiler');\nconst filters = require('./filters');\nconst {FileSystemLoader, WebLoader, PrecompiledLoader} = require('./loaders');\nconst tests = require('./tests');\nconst globals = require('./globals');\nconst {Obj, EmitterObj} = require('./object');\nconst globalRuntime = require('./runtime');\nconst {handleError, Frame} = globalRuntime;\nconst expressApp = require('./express-app');\n\n// If the user is using the async API, *always* call it\n// asynchronously even if the template was synchronous.\nfunction callbackAsap(cb, err, res) {\n  asap(() => {\n    cb(err, res);\n  });\n}\n\n/**\n * A no-op template, for use with {% include ignore missing %}\n */\nconst noopTmplSrc = {\n  type: 'code',\n  obj: {\n    root(env, context, frame, runtime, cb) {\n      try {\n        cb(null, '');\n      } catch (e) {\n        cb(handleError(e, null, null));\n      }\n    }\n  }\n};\n\nclass Environment extends EmitterObj {\n  init(loaders, opts) {\n    // The dev flag determines the trace that'll be shown on errors.\n    // If set to true, returns the full trace from the error point,\n    // otherwise will return trace starting from Template.render\n    // (the full trace from within nunjucks may confuse developers using\n    //  the library)\n    // defaults to false\n    opts = this.opts = opts || {};\n    this.opts.dev = !!opts.dev;\n\n    // The autoescape flag sets global autoescaping. If true,\n    // every string variable will be escaped by default.\n    // If false, strings can be manually escaped using the `escape` filter.\n    // defaults to true\n    this.opts.autoescape = opts.autoescape != null ? opts.autoescape : true;\n\n    // If true, this will make the system throw errors if trying\n    // to output a null or undefined value\n    this.opts.throwOnUndefined = !!opts.throwOnUndefined;\n    this.opts.trimBlocks = !!opts.trimBlocks;\n    this.opts.lstripBlocks = !!opts.lstripBlocks;\n\n    this.loaders = [];\n\n    if (!loaders) {\n      // The filesystem loader is only available server-side\n      if (FileSystemLoader) {\n        this.loaders = [new FileSystemLoader('views')];\n      } else if (WebLoader) {\n        this.loaders = [new WebLoader('/views')];\n      }\n    } else {\n      this.loaders = lib.isArray(loaders) ? loaders : [loaders];\n    }\n\n    // It's easy to use precompiled templates: just include them\n    // before you configure nunjucks and this will automatically\n    // pick it up and use it\n    if (typeof window !== 'undefined' && window.nunjucksPrecompiled) {\n      this.loaders.unshift(\n        new PrecompiledLoader(window.nunjucksPrecompiled)\n      );\n    }\n\n    this._initLoaders();\n\n    this.globals = globals();\n    this.filters = {};\n    this.tests = {};\n    this.asyncFilters = [];\n    this.extensions = {};\n    this.extensionsList = [];\n\n    lib._entries(filters).forEach(([name, filter]) => this.addFilter(name, filter));\n    lib._entries(tests).forEach(([name, test]) => this.addTest(name, test));\n  }\n\n  _initLoaders() {\n    this.loaders.forEach((loader) => {\n      // Caching and cache busting\n      loader.cache = {};\n      if (typeof loader.on === 'function') {\n        loader.on('update', (name, fullname) => {\n          loader.cache[name] = null;\n          this.emit('update', name, fullname, loader);\n        });\n        loader.on('load', (name, source) => {\n          this.emit('load', name, source, loader);\n        });\n      }\n    });\n  }\n\n  invalidateCache() {\n    this.loaders.forEach((loader) => {\n      loader.cache = {};\n    });\n  }\n\n  addExtension(name, extension) {\n    extension.__name = name;\n    this.extensions[name] = extension;\n    this.extensionsList.push(extension);\n    return this;\n  }\n\n  removeExtension(name) {\n    var extension = this.getExtension(name);\n    if (!extension) {\n      return;\n    }\n\n    this.extensionsList = lib.without(this.extensionsList, extension);\n    delete this.extensions[name];\n  }\n\n  getExtension(name) {\n    return this.extensions[name];\n  }\n\n  hasExtension(name) {\n    return !!this.extensions[name];\n  }\n\n  addGlobal(name, value) {\n    this.globals[name] = value;\n    return this;\n  }\n\n  getGlobal(name) {\n    if (typeof this.globals[name] === 'undefined') {\n      throw new Error('global not found: ' + name);\n    }\n    return this.globals[name];\n  }\n\n  addFilter(name, func, async) {\n    var wrapped = func;\n\n    if (async) {\n      this.asyncFilters.push(name);\n    }\n    this.filters[name] = wrapped;\n    return this;\n  }\n\n  getFilter(name) {\n    if (!this.filters[name]) {\n      throw new Error('filter not found: ' + name);\n    }\n    return this.filters[name];\n  }\n\n  addTest(name, func) {\n    this.tests[name] = func;\n    return this;\n  }\n\n  getTest(name) {\n    if (!this.tests[name]) {\n      throw new Error('test not found: ' + name);\n    }\n    return this.tests[name];\n  }\n\n  resolveTemplate(loader, parentName, filename) {\n    var isRelative = (loader.isRelative && parentName) ? loader.isRelative(filename) : false;\n    return (isRelative && loader.resolve) ? loader.resolve(parentName, filename) : filename;\n  }\n\n  getTemplate(name, eagerCompile, parentName, ignoreMissing, cb) {\n    var that = this;\n    var tmpl = null;\n    if (name && name.raw) {\n      // this fixes autoescape for templates referenced in symbols\n      name = name.raw;\n    }\n\n    if (lib.isFunction(parentName)) {\n      cb = parentName;\n      parentName = null;\n      eagerCompile = eagerCompile || false;\n    }\n\n    if (lib.isFunction(eagerCompile)) {\n      cb = eagerCompile;\n      eagerCompile = false;\n    }\n\n    if (name instanceof Template) {\n      tmpl = name;\n    } else if (typeof name !== 'string') {\n      throw new Error('template names must be a string: ' + name);\n    } else {\n      for (let i = 0; i < this.loaders.length; i++) {\n        const loader = this.loaders[i];\n        tmpl = loader.cache[this.resolveTemplate(loader, parentName, name)];\n        if (tmpl) {\n          break;\n        }\n      }\n    }\n\n    if (tmpl) {\n      if (eagerCompile) {\n        tmpl.compile();\n      }\n\n      if (cb) {\n        cb(null, tmpl);\n        return undefined;\n      } else {\n        return tmpl;\n      }\n    }\n    let syncResult;\n\n    const createTemplate = (err, info) => {\n      if (!info && !err && !ignoreMissing) {\n        err = new Error('template not found: ' + name);\n      }\n\n      if (err) {\n        if (cb) {\n          cb(err);\n          return;\n        } else {\n          throw err;\n        }\n      }\n      let newTmpl;\n      if (!info) {\n        newTmpl = new Template(noopTmplSrc, this, '', eagerCompile);\n      } else {\n        newTmpl = new Template(info.src, this, info.path, eagerCompile);\n        if (!info.noCache) {\n          info.loader.cache[name] = newTmpl;\n        }\n      }\n      if (cb) {\n        cb(null, newTmpl);\n      } else {\n        syncResult = newTmpl;\n      }\n    };\n\n    lib.asyncIter(this.loaders, (loader, i, next, done) => {\n      function handle(err, src) {\n        if (err) {\n          done(err);\n        } else if (src) {\n          src.loader = loader;\n          done(null, src);\n        } else {\n          next();\n        }\n      }\n\n      // Resolve name relative to parentName\n      name = that.resolveTemplate(loader, parentName, name);\n\n      if (loader.async) {\n        loader.getSource(name, handle);\n      } else {\n        handle(null, loader.getSource(name));\n      }\n    }, createTemplate);\n\n    return syncResult;\n  }\n\n  express(app) {\n    return expressApp(this, app);\n  }\n\n  render(name, ctx, cb) {\n    if (lib.isFunction(ctx)) {\n      cb = ctx;\n      ctx = null;\n    }\n\n    // We support a synchronous API to make it easier to migrate\n    // existing code to async. This works because if you don't do\n    // anything async work, the whole thing is actually run\n    // synchronously.\n    let syncResult = null;\n\n    this.getTemplate(name, (err, tmpl) => {\n      if (err && cb) {\n        callbackAsap(cb, err);\n      } else if (err) {\n        throw err;\n      } else {\n        syncResult = tmpl.render(ctx, cb);\n      }\n    });\n\n    return syncResult;\n  }\n\n  renderString(src, ctx, opts, cb) {\n    if (lib.isFunction(opts)) {\n      cb = opts;\n      opts = {};\n    }\n    opts = opts || {};\n\n    const tmpl = new Template(src, this, opts.path);\n    return tmpl.render(ctx, cb);\n  }\n\n  waterfall(tasks, callback, forceAsync) {\n    return waterfall(tasks, callback, forceAsync);\n  }\n}\n\nclass Context extends Obj {\n  init(ctx, blocks, env) {\n    // Has to be tied to an environment so we can tap into its globals.\n    this.env = env || new Environment();\n\n    // Make a duplicate of ctx\n    this.ctx = lib.extend({}, ctx);\n\n    this.blocks = {};\n    this.exported = [];\n\n    lib.keys(blocks).forEach(name => {\n      this.addBlock(name, blocks[name]);\n    });\n  }\n\n  lookup(name) {\n    // This is one of the most called functions, so optimize for\n    // the typical case where the name isn't in the globals\n    if (name in this.env.globals && !(name in this.ctx)) {\n      return this.env.globals[name];\n    } else {\n      return this.ctx[name];\n    }\n  }\n\n  setVariable(name, val) {\n    this.ctx[name] = val;\n  }\n\n  getVariables() {\n    return this.ctx;\n  }\n\n  addBlock(name, block) {\n    this.blocks[name] = this.blocks[name] || [];\n    this.blocks[name].push(block);\n    return this;\n  }\n\n  getBlock(name) {\n    if (!this.blocks[name]) {\n      throw new Error('unknown block \"' + name + '\"');\n    }\n\n    return this.blocks[name][0];\n  }\n\n  getSuper(env, name, block, frame, runtime, cb) {\n    var idx = lib.indexOf(this.blocks[name] || [], block);\n    var blk = this.blocks[name][idx + 1];\n    var context = this;\n\n    if (idx === -1 || !blk) {\n      throw new Error('no super block available for \"' + name + '\"');\n    }\n\n    blk(env, context, frame, runtime, cb);\n  }\n\n  addExport(name) {\n    this.exported.push(name);\n  }\n\n  getExported() {\n    var exported = {};\n    this.exported.forEach((name) => {\n      exported[name] = this.ctx[name];\n    });\n    return exported;\n  }\n}\n\nclass Template extends Obj {\n  init(src, env, path, eagerCompile) {\n    this.env = env || new Environment();\n\n    if (lib.isObject(src)) {\n      switch (src.type) {\n        case 'code':\n          this.tmplProps = src.obj;\n          break;\n        case 'string':\n          this.tmplStr = src.obj;\n          break;\n        default:\n          throw new Error(\n            `Unexpected template object type ${src.type}; expected 'code', or 'string'`);\n      }\n    } else if (lib.isString(src)) {\n      this.tmplStr = src;\n    } else {\n      throw new Error('src must be a string or an object describing the source');\n    }\n\n    this.path = path;\n\n    if (eagerCompile) {\n      try {\n        this._compile();\n      } catch (err) {\n        throw lib._prettifyError(this.path, this.env.opts.dev, err);\n      }\n    } else {\n      this.compiled = false;\n    }\n  }\n\n  render(ctx, parentFrame, cb) {\n    if (typeof ctx === 'function') {\n      cb = ctx;\n      ctx = {};\n    } else if (typeof parentFrame === 'function') {\n      cb = parentFrame;\n      parentFrame = null;\n    }\n\n    // If there is a parent frame, we are being called from internal\n    // code of another template, and the internal system\n    // depends on the sync/async nature of the parent template\n    // to be inherited, so force an async callback\n    const forceAsync = !parentFrame;\n\n    // Catch compile errors for async rendering\n    try {\n      this.compile();\n    } catch (e) {\n      const err = lib._prettifyError(this.path, this.env.opts.dev, e);\n      if (cb) {\n        return callbackAsap(cb, err);\n      } else {\n        throw err;\n      }\n    }\n\n    const context = new Context(ctx || {}, this.blocks, this.env);\n    const frame = parentFrame ? parentFrame.push(true) : new Frame();\n    frame.topLevel = true;\n    let syncResult = null;\n    let didError = false;\n\n    this.rootRenderFunc(this.env, context, frame, globalRuntime, (err, res) => {\n      // TODO: this is actually a bug in the compiled template (because waterfall\n      // tasks are both not passing errors up the chain of callbacks AND are not\n      // causing a return from the top-most render function). But fixing that\n      // will require a more substantial change to the compiler.\n      if (didError && cb && typeof res !== 'undefined') {\n        // prevent multiple calls to cb\n        return;\n      }\n\n      if (err) {\n        err = lib._prettifyError(this.path, this.env.opts.dev, err);\n        didError = true;\n      }\n\n      if (cb) {\n        if (forceAsync) {\n          callbackAsap(cb, err, res);\n        } else {\n          cb(err, res);\n        }\n      } else {\n        if (err) {\n          throw err;\n        }\n        syncResult = res;\n      }\n    });\n\n    return syncResult;\n  }\n\n\n  getExported(ctx, parentFrame, cb) { // eslint-disable-line consistent-return\n    if (typeof ctx === 'function') {\n      cb = ctx;\n      ctx = {};\n    }\n\n    if (typeof parentFrame === 'function') {\n      cb = parentFrame;\n      parentFrame = null;\n    }\n\n    // Catch compile errors for async rendering\n    try {\n      this.compile();\n    } catch (e) {\n      if (cb) {\n        return cb(e);\n      } else {\n        throw e;\n      }\n    }\n\n    const frame = parentFrame ? parentFrame.push() : new Frame();\n    frame.topLevel = true;\n\n    // Run the rootRenderFunc to populate the context with exported vars\n    const context = new Context(ctx || {}, this.blocks, this.env);\n    this.rootRenderFunc(this.env, context, frame, globalRuntime, (err) => {\n      if (err) {\n        cb(err, null);\n      } else {\n        cb(null, context.getExported());\n      }\n    });\n  }\n\n  compile() {\n    if (!this.compiled) {\n      this._compile();\n    }\n  }\n\n  _compile() {\n    var props;\n\n    if (this.tmplProps) {\n      props = this.tmplProps;\n    } else {\n      const source = compiler.compile(this.tmplStr,\n        this.env.asyncFilters,\n        this.env.extensionsList,\n        this.path,\n        this.env.opts);\n\n      const func = new Function(source); // eslint-disable-line no-new-func\n      props = func();\n    }\n\n    this.blocks = this._getBlocks(props);\n    this.rootRenderFunc = props.root;\n    this.compiled = true;\n  }\n\n  _getBlocks(props) {\n    var blocks = {};\n\n    lib.keys(props).forEach((k) => {\n      if (k.slice(0, 2) === 'b_') {\n        blocks[k.slice(2)] = props[k];\n      }\n    });\n\n    return blocks;\n  }\n}\n\nmodule.exports = {\n  Environment: Environment,\n  Template: Template\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/environment.js","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/asap/browser-asap.js\n// module id = 8\n// module chunks = 0","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/asap/browser-raw.js\n// module id = 9\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 10\n// module chunks = 0","// MIT license (by Elan Shanker).\n(function(globals) {\n  'use strict';\n\n  var executeSync = function(){\n    var args = Array.prototype.slice.call(arguments);\n    if (typeof args[0] === 'function'){\n      args[0].apply(null, args.splice(1));\n    }\n  };\n\n  var executeAsync = function(fn){\n    if (typeof setImmediate === 'function') {\n      setImmediate(fn);\n    } else if (typeof process !== 'undefined' && process.nextTick) {\n      process.nextTick(fn);\n    } else {\n      setTimeout(fn, 0);\n    }\n  };\n\n  var makeIterator = function (tasks) {\n    var makeCallback = function (index) {\n      var fn = function () {\n        if (tasks.length) {\n          tasks[index].apply(null, arguments);\n        }\n        return fn.next();\n      };\n      fn.next = function () {\n        return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n      };\n      return fn;\n    };\n    return makeCallback(0);\n  };\n  \n  var _isArray = Array.isArray || function(maybeArray){\n    return Object.prototype.toString.call(maybeArray) === '[object Array]';\n  };\n\n  var waterfall = function (tasks, callback, forceAsync) {\n    var nextTick = forceAsync ? executeAsync : executeSync;\n    callback = callback || function () {};\n    if (!_isArray(tasks)) {\n      var err = new Error('First argument to waterfall must be an array of functions');\n      return callback(err);\n    }\n    if (!tasks.length) {\n      return callback();\n    }\n    var wrapIterator = function (iterator) {\n      return function (err) {\n        if (err) {\n          callback.apply(null, arguments);\n          callback = function () {};\n        } else {\n          var args = Array.prototype.slice.call(arguments, 1);\n          var next = iterator.next();\n          if (next) {\n            args.push(wrapIterator(next));\n          } else {\n            args.push(callback);\n          }\n          nextTick(function () {\n            iterator.apply(null, args);\n          });\n        }\n      };\n    };\n    wrapIterator(makeIterator(tasks))();\n  };\n\n  if (typeof define !== 'undefined' && define.amd) {\n    define([], function () {\n      return waterfall;\n    }); // RequireJS\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = waterfall; // CommonJS\n  } else {\n    globals.waterfall = waterfall; // <script>\n  }\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/a-sync-waterfall/index.js\n// module id = 11\n// module chunks = 0","'use strict';\n\nvar lib = require('./lib');\nvar r = require('./runtime');\n\nvar exports = module.exports = {};\n\nfunction normalize(value, defaultValue) {\n  if (value === null || value === undefined || value === false) {\n    return defaultValue;\n  }\n  return value;\n}\n\nexports.abs = Math.abs;\n\nfunction isNaN(num) {\n  return num !== num; // eslint-disable-line no-self-compare\n}\n\nfunction batch(arr, linecount, fillWith) {\n  var i;\n  var res = [];\n  var tmp = [];\n\n  for (i = 0; i < arr.length; i++) {\n    if (i % linecount === 0 && tmp.length) {\n      res.push(tmp);\n      tmp = [];\n    }\n\n    tmp.push(arr[i]);\n  }\n\n  if (tmp.length) {\n    if (fillWith) {\n      for (i = tmp.length; i < linecount; i++) {\n        tmp.push(fillWith);\n      }\n    }\n\n    res.push(tmp);\n  }\n\n  return res;\n}\n\nexports.batch = batch;\n\nfunction capitalize(str) {\n  str = normalize(str, '');\n  const ret = str.toLowerCase();\n  return r.copySafeness(str, ret.charAt(0).toUpperCase() + ret.slice(1));\n}\n\nexports.capitalize = capitalize;\n\nfunction center(str, width) {\n  str = normalize(str, '');\n  width = width || 80;\n\n  if (str.length >= width) {\n    return str;\n  }\n\n  const spaces = width - str.length;\n  const pre = lib.repeat(' ', (spaces / 2) - (spaces % 2));\n  const post = lib.repeat(' ', spaces / 2);\n  return r.copySafeness(str, pre + str + post);\n}\n\nexports.center = center;\n\nfunction default_(val, def, bool) {\n  if (bool) {\n    return val || def;\n  } else {\n    return (val !== undefined) ? val : def;\n  }\n}\n\n// TODO: it is confusing to export something called 'default'\nexports['default'] = default_; // eslint-disable-line dot-notation\n\nfunction dictsort(val, caseSensitive, by) {\n  if (!lib.isObject(val)) {\n    throw new lib.TemplateError('dictsort filter: val must be an object');\n  }\n\n  let array = [];\n  // deliberately include properties from the object's prototype\n  for (let k in val) { // eslint-disable-line guard-for-in, no-restricted-syntax\n    array.push([k, val[k]]);\n  }\n\n  let si;\n  if (by === undefined || by === 'key') {\n    si = 0;\n  } else if (by === 'value') {\n    si = 1;\n  } else {\n    throw new lib.TemplateError(\n      'dictsort filter: You can only sort by either key or value');\n  }\n\n  array.sort((t1, t2) => {\n    var a = t1[si];\n    var b = t2[si];\n\n    if (!caseSensitive) {\n      if (lib.isString(a)) {\n        a = a.toUpperCase();\n      }\n      if (lib.isString(b)) {\n        b = b.toUpperCase();\n      }\n    }\n\n    return a > b ? 1 : (a === b ? 0 : -1); // eslint-disable-line no-nested-ternary\n  });\n\n  return array;\n}\n\nexports.dictsort = dictsort;\n\nfunction dump(obj, spaces) {\n  return JSON.stringify(obj, null, spaces);\n}\n\nexports.dump = dump;\n\nfunction escape(str) {\n  if (str instanceof r.SafeString) {\n    return str;\n  }\n  str = (str === null || str === undefined) ? '' : str;\n  return r.markSafe(lib.escape(str.toString()));\n}\n\nexports.escape = escape;\n\nfunction safe(str) {\n  if (str instanceof r.SafeString) {\n    return str;\n  }\n  str = (str === null || str === undefined) ? '' : str;\n  return r.markSafe(str.toString());\n}\n\nexports.safe = safe;\n\nfunction first(arr) {\n  return arr[0];\n}\n\nexports.first = first;\n\nfunction forceescape(str) {\n  str = (str === null || str === undefined) ? '' : str;\n  return r.markSafe(lib.escape(str.toString()));\n}\n\nexports.forceescape = forceescape;\n\nfunction groupby(arr, attr) {\n  return lib.groupBy(arr, attr, this.env.opts.throwOnUndefined);\n}\n\nexports.groupby = groupby;\n\nfunction indent(str, width, indentfirst) {\n  str = normalize(str, '');\n\n  if (str === '') {\n    return '';\n  }\n\n  width = width || 4;\n  // let res = '';\n  const lines = str.split('\\n');\n  const sp = lib.repeat(' ', width);\n\n  const res = lines.map((l, i) => {\n    return (i === 0 && !indentfirst) ? l : `${sp}${l}`;\n  }).join('\\n');\n\n  return r.copySafeness(str, res);\n}\n\nexports.indent = indent;\n\nfunction join(arr, del, attr) {\n  del = del || '';\n\n  if (attr) {\n    arr = lib.map(arr, (v) => v[attr]);\n  }\n\n  return arr.join(del);\n}\n\nexports.join = join;\n\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\n\nexports.last = last;\n\nfunction lengthFilter(val) {\n  var value = normalize(val, '');\n\n  if (value !== undefined) {\n    if (\n      (typeof Map === 'function' && value instanceof Map) ||\n      (typeof Set === 'function' && value instanceof Set)\n    ) {\n      // ECMAScript 2015 Maps and Sets\n      return value.size;\n    }\n    if (lib.isObject(value) && !(value instanceof r.SafeString)) {\n      // Objects (besides SafeStrings), non-primative Arrays\n      return lib.keys(value).length;\n    }\n    return value.length;\n  }\n  return 0;\n}\n\nexports.length = lengthFilter;\n\nfunction list(val) {\n  if (lib.isString(val)) {\n    return val.split('');\n  } else if (lib.isObject(val)) {\n    return lib._entries(val || {}).map(([key, value]) => ({key, value}));\n  } else if (lib.isArray(val)) {\n    return val;\n  } else {\n    throw new lib.TemplateError('list filter: type not iterable');\n  }\n}\n\nexports.list = list;\n\nfunction lower(str) {\n  str = normalize(str, '');\n  return str.toLowerCase();\n}\n\nexports.lower = lower;\n\nfunction nl2br(str) {\n  if (str === null || str === undefined) {\n    return '';\n  }\n  return r.copySafeness(str, str.replace(/\\r\\n|\\n/g, '<br />\\n'));\n}\n\nexports.nl2br = nl2br;\n\nfunction random(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexports.random = random;\n\n/**\n * Construct select or reject filter\n *\n * @param {boolean} expectedTestResult\n * @returns {function(array, string, *): array}\n */\nfunction getSelectOrReject(expectedTestResult) {\n  function filter(arr, testName = 'truthy', secondArg) {\n    const context = this;\n    const test = context.env.getTest(testName);\n\n    return lib.toArray(arr).filter(function examineTestResult(item) {\n      return test.call(context, item, secondArg) === expectedTestResult;\n    });\n  }\n\n  return filter;\n}\n\nexports.reject = getSelectOrReject(false);\n\nfunction rejectattr(arr, attr) {\n  return arr.filter((item) => !item[attr]);\n}\n\nexports.rejectattr = rejectattr;\n\nexports.select = getSelectOrReject(true);\n\nfunction selectattr(arr, attr) {\n  return arr.filter((item) => !!item[attr]);\n}\n\nexports.selectattr = selectattr;\n\nfunction replace(str, old, new_, maxCount) {\n  var originalStr = str;\n\n  if (old instanceof RegExp) {\n    return str.replace(old, new_);\n  }\n\n  if (typeof maxCount === 'undefined') {\n    maxCount = -1;\n  }\n\n  let res = ''; // Output\n\n  // Cast Numbers in the search term to string\n  if (typeof old === 'number') {\n    old = '' + old;\n  } else if (typeof old !== 'string') {\n    // If it is something other than number or string,\n    // return the original string\n    return str;\n  }\n\n  // Cast numbers in the replacement to string\n  if (typeof str === 'number') {\n    str = '' + str;\n  }\n\n  // If by now, we don't have a string, throw it back\n  if (typeof str !== 'string' && !(str instanceof r.SafeString)) {\n    return str;\n  }\n\n  // ShortCircuits\n  if (old === '') {\n    // Mimic the python behaviour: empty string is replaced\n    // by replacement e.g. \"abc\"|replace(\"\", \".\") -> .a.b.c.\n    res = new_ + str.split('').join(new_) + new_;\n    return r.copySafeness(str, res);\n  }\n\n  let nextIndex = str.indexOf(old);\n  // if # of replacements to perform is 0, or the string to does\n  // not contain the old value, return the string\n  if (maxCount === 0 || nextIndex === -1) {\n    return str;\n  }\n\n  let pos = 0;\n  let count = 0; // # of replacements made\n\n  while (nextIndex > -1 && (maxCount === -1 || count < maxCount)) {\n    // Grab the next chunk of src string and add it with the\n    // replacement, to the result\n    res += str.substring(pos, nextIndex) + new_;\n    // Increment our pointer in the src string\n    pos = nextIndex + old.length;\n    count++;\n    // See if there are any more replacements to be made\n    nextIndex = str.indexOf(old, pos);\n  }\n\n  // We've either reached the end, or done the max # of\n  // replacements, tack on any remaining string\n  if (pos < str.length) {\n    res += str.substring(pos);\n  }\n\n  return r.copySafeness(originalStr, res);\n}\n\nexports.replace = replace;\n\nfunction reverse(val) {\n  var arr;\n  if (lib.isString(val)) {\n    arr = list(val);\n  } else {\n    // Copy it\n    arr = lib.map(val, v => v);\n  }\n\n  arr.reverse();\n\n  if (lib.isString(val)) {\n    return r.copySafeness(val, arr.join(''));\n  }\n  return arr;\n}\n\nexports.reverse = reverse;\n\nfunction round(val, precision, method) {\n  precision = precision || 0;\n  const factor = Math.pow(10, precision);\n  let rounder;\n\n  if (method === 'ceil') {\n    rounder = Math.ceil;\n  } else if (method === 'floor') {\n    rounder = Math.floor;\n  } else {\n    rounder = Math.round;\n  }\n\n  return rounder(val * factor) / factor;\n}\n\nexports.round = round;\n\nfunction slice(arr, slices, fillWith) {\n  const sliceLength = Math.floor(arr.length / slices);\n  const extra = arr.length % slices;\n  const res = [];\n  let offset = 0;\n\n  for (let i = 0; i < slices; i++) {\n    const start = offset + (i * sliceLength);\n    if (i < extra) {\n      offset++;\n    }\n    const end = offset + ((i + 1) * sliceLength);\n\n    const currSlice = arr.slice(start, end);\n    if (fillWith && i >= extra) {\n      currSlice.push(fillWith);\n    }\n    res.push(currSlice);\n  }\n\n  return res;\n}\n\nexports.slice = slice;\n\nfunction sum(arr, attr, start = 0) {\n  if (attr) {\n    arr = lib.map(arr, (v) => v[attr]);\n  }\n\n  return start + arr.reduce((a, b) => a + b, 0);\n}\n\nexports.sum = sum;\n\nexports.sort = r.makeMacro(\n  ['value', 'reverse', 'case_sensitive', 'attribute'], [],\n  (arr, reversed, caseSens, attr) => {\n    // Copy it\n    let array = lib.map(arr, v => v);\n\n    array.sort((a, b) => {\n      let x = (attr) ? a[attr] : a;\n      let y = (attr) ? b[attr] : b;\n\n      if (!caseSens && lib.isString(x) && lib.isString(y)) {\n        x = x.toLowerCase();\n        y = y.toLowerCase();\n      }\n\n      if (x < y) {\n        return reversed ? 1 : -1;\n      } else if (x > y) {\n        return reversed ? -1 : 1;\n      } else {\n        return 0;\n      }\n    });\n\n    return array;\n  });\n\nfunction string(obj) {\n  return r.copySafeness(obj, obj);\n}\n\nexports.string = string;\n\nfunction striptags(input, preserveLinebreaks) {\n  input = normalize(input, '');\n  let tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>|<!--[\\s\\S]*?-->/gi;\n  let trimmedInput = trim(input.replace(tags, ''));\n  let res = '';\n  if (preserveLinebreaks) {\n    res = trimmedInput\n      .replace(/^ +| +$/gm, '') // remove leading and trailing spaces\n      .replace(/ +/g, ' ') // squash adjacent spaces\n      .replace(/(\\r\\n)/g, '\\n') // normalize linebreaks (CRLF -> LF)\n      .replace(/\\n\\n\\n+/g, '\\n\\n'); // squash abnormal adjacent linebreaks\n  } else {\n    res = trimmedInput.replace(/\\s+/gi, ' ');\n  }\n  return r.copySafeness(input, res);\n}\n\nexports.striptags = striptags;\n\nfunction title(str) {\n  str = normalize(str, '');\n  let words = str.split(' ').map(word => capitalize(word));\n  return r.copySafeness(str, words.join(' '));\n}\n\nexports.title = title;\n\nfunction trim(str) {\n  return r.copySafeness(str, str.replace(/^\\s*|\\s*$/g, ''));\n}\n\nexports.trim = trim;\n\nfunction truncate(input, length, killwords, end) {\n  var orig = input;\n  input = normalize(input, '');\n  length = length || 255;\n\n  if (input.length <= length) {\n    return input;\n  }\n\n  if (killwords) {\n    input = input.substring(0, length);\n  } else {\n    let idx = input.lastIndexOf(' ', length);\n    if (idx === -1) {\n      idx = length;\n    }\n\n    input = input.substring(0, idx);\n  }\n\n  input += (end !== undefined && end !== null) ? end : '...';\n  return r.copySafeness(orig, input);\n}\n\nexports.truncate = truncate;\n\nfunction upper(str) {\n  str = normalize(str, '');\n  return str.toUpperCase();\n}\n\nexports.upper = upper;\n\nfunction urlencode(obj) {\n  var enc = encodeURIComponent;\n  if (lib.isString(obj)) {\n    return enc(obj);\n  } else {\n    let keyvals = (lib.isArray(obj)) ? obj : lib._entries(obj);\n    return keyvals.map(([k, v]) => `${enc(k)}=${enc(v)}`).join('&');\n  }\n}\n\nexports.urlencode = urlencode;\n\n// For the jinja regexp, see\n// https://github.com/mitsuhiko/jinja2/blob/f15b814dcba6aa12bc74d1f7d0c881d55f7126be/jinja2/utils.py#L20-L23\nconst puncRe = /^(?:\\(|<|&lt;)?(.*?)(?:\\.|,|\\)|\\n|&gt;)?$/;\n// from http://blog.gerv.net/2011/05/html5_email_address_regexp/\nconst emailRe = /^[\\w.!#$%&'*+\\-\\/=?\\^`{|}~]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)+$/i;\nconst httpHttpsRe = /^https?:\\/\\/.*$/;\nconst wwwRe = /^www\\./;\nconst tldRe = /\\.(?:org|net|com)(?:\\:|\\/|$)/;\n\nfunction urlize(str, length, nofollow) {\n  if (isNaN(length)) {\n    length = Infinity;\n  }\n\n  const noFollowAttr = (nofollow === true ? ' rel=\"nofollow\"' : '');\n\n  const words = str.split(/(\\s+)/).filter((word) => {\n    // If the word has no length, bail. This can happen for str with\n    // trailing whitespace.\n    return word && word.length;\n  }).map((word) => {\n    var matches = word.match(puncRe);\n    var possibleUrl = (matches) ? matches[1] : word;\n    var shortUrl = possibleUrl.substr(0, length);\n\n    // url that starts with http or https\n    if (httpHttpsRe.test(possibleUrl)) {\n      return `<a href=\"${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    // url that starts with www.\n    if (wwwRe.test(possibleUrl)) {\n      return `<a href=\"http://${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    // an email address of the form username@domain.tld\n    if (emailRe.test(possibleUrl)) {\n      return `<a href=\"mailto:${possibleUrl}\">${possibleUrl}</a>`;\n    }\n\n    // url that ends in .com, .org or .net that is not an email address\n    if (tldRe.test(possibleUrl)) {\n      return `<a href=\"http://${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    return word;\n  });\n\n  return words.join('');\n}\n\nexports.urlize = urlize;\n\nfunction wordcount(str) {\n  str = normalize(str, '');\n  const words = (str) ? str.match(/\\w+/g) : null;\n  return (words) ? words.length : null;\n}\n\nexports.wordcount = wordcount;\n\nfunction float(val, def) {\n  var res = parseFloat(val);\n  return (isNaN(res)) ? def : res;\n}\n\nexports.float = float;\n\nfunction int(val, def) {\n  var res = parseInt(val, 10);\n  return (isNaN(res)) ? def : res;\n}\n\nexports.int = int;\n\n// Aliases\nexports.d = exports.default;\nexports.e = exports.escape;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/filters.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/node_modules/events/events.js\n// module id = 13\n// module chunks = 0","'use strict';\n\nvar SafeString = require('./runtime').SafeString;\n\n/**\n * Returns `true` if the object is a function, otherwise `false`.\n * @param { any } value\n * @returns { boolean }\n */\nfunction callable(value) {\n  return typeof value === 'function';\n}\n\nexports.callable = callable;\n\n/**\n * Returns `true` if the object is strictly not `undefined`.\n * @param { any } value\n * @returns { boolean }\n */\nfunction defined(value) {\n  return value !== undefined;\n}\n\nexports.defined = defined;\n\n/**\n * Returns `true` if the operand (one) is divisble by the test's argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction divisibleby(one, two) {\n  return (one % two) === 0;\n}\n\nexports.divisibleby = divisibleby;\n\n/**\n * Returns true if the string has been escaped (i.e., is a SafeString).\n * @param { any } value\n * @returns { boolean }\n */\nfunction escaped(value) {\n  return value instanceof SafeString;\n}\n\nexports.escaped = escaped;\n\n/**\n * Returns `true` if the arguments are strictly equal.\n * @param { any } one\n * @param { any } two\n */\nfunction equalto(one, two) {\n  return one === two;\n}\n\nexports.equalto = equalto;\n\n// Aliases\nexports.eq = exports.equalto;\nexports.sameas = exports.equalto;\n\n/**\n * Returns `true` if the value is evenly divisible by 2.\n * @param { number } value\n * @returns { boolean }\n */\nfunction even(value) {\n  return value % 2 === 0;\n}\n\nexports.even = even;\n\n/**\n * Returns `true` if the value is falsy - if I recall correctly, '', 0, false,\n * undefined, NaN or null. I don't know if we should stick to the default JS\n * behavior or attempt to replicate what Python believes should be falsy (i.e.,\n * empty arrays, empty dicts, not 0...).\n * @param { any } value\n * @returns { boolean }\n */\nfunction falsy(value) {\n  return !value;\n}\n\nexports.falsy = falsy;\n\n/**\n * Returns `true` if the operand (one) is greater or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction ge(one, two) {\n  return one >= two;\n}\n\nexports.ge = ge;\n\n/**\n * Returns `true` if the operand (one) is greater than the test's argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction greaterthan(one, two) {\n  return one > two;\n}\n\nexports.greaterthan = greaterthan;\n\n// alias\nexports.gt = exports.greaterthan;\n\n/**\n * Returns `true` if the operand (one) is less than or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction le(one, two) {\n  return one <= two;\n}\n\nexports.le = le;\n\n/**\n * Returns `true` if the operand (one) is less than the test's passed argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction lessthan(one, two) {\n  return one < two;\n}\n\nexports.lessthan = lessthan;\n\n// alias\nexports.lt = exports.lessthan;\n\n/**\n * Returns `true` if the string is lowercased.\n * @param { string } value\n * @returns { boolean }\n */\nfunction lower(value) {\n  return value.toLowerCase() === value;\n}\n\nexports.lower = lower;\n\n/**\n * Returns `true` if the operand (one) is less than or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction ne(one, two) {\n  return one !== two;\n}\n\nexports.ne = ne;\n\n/**\n * Returns true if the value is strictly equal to `null`.\n * @param { any }\n * @returns { boolean }\n */\nfunction nullTest(value) {\n  return value === null;\n}\n\nexports.null = nullTest;\n\n/**\n * Returns true if value is a number.\n * @param { any }\n * @returns { boolean }\n */\nfunction number(value) {\n  return typeof value === 'number';\n}\n\nexports.number = number;\n\n/**\n * Returns `true` if the value is *not* evenly divisible by 2.\n * @param { number } value\n * @returns { boolean }\n */\nfunction odd(value) {\n  return value % 2 === 1;\n}\n\nexports.odd = odd;\n\n/**\n * Returns `true` if the value is a string, `false` if not.\n * @param { any } value\n * @returns { boolean }\n */\nfunction string(value) {\n  return typeof value === 'string';\n}\n\nexports.string = string;\n\n/**\n * Returns `true` if the value is not in the list of things considered falsy:\n * '', null, undefined, 0, NaN and false.\n * @param { any } value\n * @returns { boolean }\n */\nfunction truthy(value) {\n  return !!value;\n}\n\nexports.truthy = truthy;\n\n/**\n * Returns `true` if the value is undefined.\n * @param { any } value\n * @returns { boolean }\n */\nfunction undefinedTest(value) {\n  return value === undefined;\n}\n\nexports.undefined = undefinedTest;\n\n/**\n * Returns `true` if the string is uppercased.\n * @param { string } value\n * @returns { boolean }\n */\nfunction upper(value) {\n  return value.toUpperCase() === value;\n}\n\nexports.upper = upper;\n\n/**\n * If ES6 features are available, returns `true` if the value implements the\n * `Symbol.iterator` method. If not, it's a string or Array.\n *\n * Could potentially cause issues if a browser exists that has Set and Map but\n * not Symbol.\n *\n * @param { any } value\n * @returns { boolean }\n */\nfunction iterable(value) {\n  if (typeof Symbol !== 'undefined') {\n    return !!value[Symbol.iterator];\n  } else {\n    return Array.isArray(value) || typeof value === 'string';\n  }\n}\n\nexports.iterable = iterable;\n\n/**\n * If ES6 features are available, returns `true` if the value is an object hash\n * or an ES6 Map. Otherwise just return if it's an object hash.\n * @param { any } value\n * @returns { boolean }\n */\nfunction mapping(value) {\n  // only maps and object hashes\n  var bool = value !== null\n    && value !== undefined\n    && typeof value === 'object'\n    && !Array.isArray(value);\n  if (Set) {\n    return bool && !(value instanceof Set);\n  } else {\n    return bool;\n  }\n}\n\nexports.mapping = mapping;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/tests.js","'use strict';\n\nfunction cycler(items) {\n  var index = -1;\n\n  return {\n    current: null,\n    reset() {\n      index = -1;\n      this.current = null;\n    },\n\n    next() {\n      index++;\n      if (index >= items.length) {\n        index = 0;\n      }\n\n      this.current = items[index];\n      return this.current;\n    },\n  };\n}\n\nfunction joiner(sep) {\n  sep = sep || ',';\n  let first = true;\n\n  return () => {\n    const val = first ? '' : sep;\n    first = false;\n    return val;\n  };\n}\n\n// Making this a function instead so it returns a new object\n// each time it's called. That way, if something like an environment\n// uses it, they will each have their own copy.\nfunction globals() {\n  return {\n    range(start, stop, step) {\n      if (typeof stop === 'undefined') {\n        stop = start;\n        start = 0;\n        step = 1;\n      } else if (!step) {\n        step = 1;\n      }\n\n      const arr = [];\n      if (step > 0) {\n        for (let i = start; i < stop; i += step) {\n          arr.push(i);\n        }\n      } else {\n        for (let i = start; i > stop; i += step) { // eslint-disable-line for-direction\n          arr.push(i);\n        }\n      }\n      return arr;\n    },\n\n    cycler() {\n      return cycler(Array.prototype.slice.call(arguments));\n    },\n\n    joiner(sep) {\n      return joiner(sep);\n    }\n  };\n}\n\nmodule.exports = globals;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/globals.js","const path = require('path');\n\nmodule.exports = function express(env, app) {\n  function NunjucksView(name, opts) {\n    this.name = name;\n    this.path = name;\n    this.defaultEngine = opts.defaultEngine;\n    this.ext = path.extname(name);\n    if (!this.ext && !this.defaultEngine) {\n      throw new Error('No default engine was specified and no extension was provided.');\n    }\n    if (!this.ext) {\n      this.name += (this.ext = (this.defaultEngine[0] !== '.' ? '.' : '') + this.defaultEngine);\n    }\n  }\n\n  NunjucksView.prototype.render = function render(opts, cb) {\n    env.render(this.name, opts, cb);\n  };\n\n  app.set('view', NunjucksView);\n  app.set('nunjucksEnv', env);\n  return env;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/express-app.js","function installCompat() {\n  'use strict';\n\n  /* eslint-disable camelcase */\n\n  // This must be called like `nunjucks.installCompat` so that `this`\n  // references the nunjucks instance\n  var runtime = this.runtime;\n  var lib = this.lib;\n  // Handle slim case where these 'modules' are excluded from the built source\n  var Compiler = this.compiler.Compiler;\n  var Parser = this.parser.Parser;\n  var nodes = this.nodes;\n  var lexer = this.lexer;\n\n  var orig_contextOrFrameLookup = runtime.contextOrFrameLookup;\n  var orig_memberLookup = runtime.memberLookup;\n  var orig_Compiler_assertType;\n  var orig_Parser_parseAggregate;\n  if (Compiler) {\n    orig_Compiler_assertType = Compiler.prototype.assertType;\n  }\n  if (Parser) {\n    orig_Parser_parseAggregate = Parser.prototype.parseAggregate;\n  }\n\n  function uninstall() {\n    runtime.contextOrFrameLookup = orig_contextOrFrameLookup;\n    runtime.memberLookup = orig_memberLookup;\n    if (Compiler) {\n      Compiler.prototype.assertType = orig_Compiler_assertType;\n    }\n    if (Parser) {\n      Parser.prototype.parseAggregate = orig_Parser_parseAggregate;\n    }\n  }\n\n  runtime.contextOrFrameLookup = function contextOrFrameLookup(context, frame, key) {\n    var val = orig_contextOrFrameLookup.apply(this, arguments);\n    if (val !== undefined) {\n      return val;\n    }\n    switch (key) {\n      case 'True':\n        return true;\n      case 'False':\n        return false;\n      case 'None':\n        return null;\n      default:\n        return undefined;\n    }\n  };\n\n  function getTokensState(tokens) {\n    return {\n      index: tokens.index,\n      lineno: tokens.lineno,\n      colno: tokens.colno\n    };\n  }\n\n  if (process.env.BUILD_TYPE !== 'SLIM' && nodes && Compiler && Parser) { // i.e., not slim mode\n    const Slice = nodes.Node.extend('Slice', {\n      fields: ['start', 'stop', 'step'],\n      init(lineno, colno, start, stop, step) {\n        start = start || new nodes.Literal(lineno, colno, null);\n        stop = stop || new nodes.Literal(lineno, colno, null);\n        step = step || new nodes.Literal(lineno, colno, 1);\n        this.parent(lineno, colno, start, stop, step);\n      }\n    });\n\n    Compiler.prototype.assertType = function assertType(node) {\n      if (node instanceof Slice) {\n        return;\n      }\n      orig_Compiler_assertType.apply(this, arguments);\n    };\n    Compiler.prototype.compileSlice = function compileSlice(node, frame) {\n      this._emit('(');\n      this._compileExpression(node.start, frame);\n      this._emit('),(');\n      this._compileExpression(node.stop, frame);\n      this._emit('),(');\n      this._compileExpression(node.step, frame);\n      this._emit(')');\n    };\n\n    Parser.prototype.parseAggregate = function parseAggregate() {\n      var origState = getTokensState(this.tokens);\n      // Set back one accounting for opening bracket/parens\n      origState.colno--;\n      origState.index--;\n      try {\n        return orig_Parser_parseAggregate.apply(this);\n      } catch (e) {\n        const errState = getTokensState(this.tokens);\n        const rethrow = () => {\n          lib._assign(this.tokens, errState);\n          return e;\n        };\n\n        // Reset to state before original parseAggregate called\n        lib._assign(this.tokens, origState);\n        this.peeked = false;\n\n        const tok = this.peekToken();\n        if (tok.type !== lexer.TOKEN_LEFT_BRACKET) {\n          throw rethrow();\n        } else {\n          this.nextToken();\n        }\n\n        const node = new Slice(tok.lineno, tok.colno);\n\n        // If we don't encounter a colon while parsing, this is not a slice,\n        // so re-raise the original exception.\n        let isSlice = false;\n\n        for (let i = 0; i <= node.fields.length; i++) {\n          if (this.skip(lexer.TOKEN_RIGHT_BRACKET)) {\n            break;\n          }\n          if (i === node.fields.length) {\n            if (isSlice) {\n              this.fail('parseSlice: too many slice components', tok.lineno, tok.colno);\n            } else {\n              break;\n            }\n          }\n          if (this.skip(lexer.TOKEN_COLON)) {\n            isSlice = true;\n          } else {\n            const field = node.fields[i];\n            node[field] = this.parseExpression();\n            isSlice = this.skip(lexer.TOKEN_COLON) || isSlice;\n          }\n        }\n        if (!isSlice) {\n          throw rethrow();\n        }\n        return new nodes.Array(tok.lineno, tok.colno, [node]);\n      }\n    };\n  }\n\n  function sliceLookup(obj, start, stop, step) {\n    obj = obj || [];\n    if (start === null) {\n      start = (step < 0) ? (obj.length - 1) : 0;\n    }\n    if (stop === null) {\n      stop = (step < 0) ? -1 : obj.length;\n    } else if (stop < 0) {\n      stop += obj.length;\n    }\n\n    if (start < 0) {\n      start += obj.length;\n    }\n\n    const results = [];\n\n    for (let i = start; ; i += step) {\n      if (i < 0 || i > obj.length) {\n        break;\n      }\n      if (step > 0 && i >= stop) {\n        break;\n      }\n      if (step < 0 && i <= stop) {\n        break;\n      }\n      results.push(runtime.memberLookup(obj, i));\n    }\n    return results;\n  }\n\n  function hasOwnProp(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n  }\n\n  const ARRAY_MEMBERS = {\n    pop(index) {\n      if (index === undefined) {\n        return this.pop();\n      }\n      if (index >= this.length || index < 0) {\n        throw new Error('KeyError');\n      }\n      return this.splice(index, 1);\n    },\n    append(element) {\n      return this.push(element);\n    },\n    remove(element) {\n      for (let i = 0; i < this.length; i++) {\n        if (this[i] === element) {\n          return this.splice(i, 1);\n        }\n      }\n      throw new Error('ValueError');\n    },\n    count(element) {\n      var count = 0;\n      for (let i = 0; i < this.length; i++) {\n        if (this[i] === element) {\n          count++;\n        }\n      }\n      return count;\n    },\n    index(element) {\n      var i;\n      if ((i = this.indexOf(element)) === -1) {\n        throw new Error('ValueError');\n      }\n      return i;\n    },\n    find(element) {\n      return this.indexOf(element);\n    },\n    insert(index, elem) {\n      return this.splice(index, 0, elem);\n    }\n  };\n  const OBJECT_MEMBERS = {\n    items() {\n      return lib._entries(this);\n    },\n    values() {\n      return lib._values(this);\n    },\n    keys() {\n      return lib.keys(this);\n    },\n    get(key, def) {\n      var output = this[key];\n      if (output === undefined) {\n        output = def;\n      }\n      return output;\n    },\n    has_key(key) {\n      return hasOwnProp(this, key);\n    },\n    pop(key, def) {\n      var output = this[key];\n      if (output === undefined && def !== undefined) {\n        output = def;\n      } else if (output === undefined) {\n        throw new Error('KeyError');\n      } else {\n        delete this[key];\n      }\n      return output;\n    },\n    popitem() {\n      const keys = lib.keys(this);\n      if (!keys.length) {\n        throw new Error('KeyError');\n      }\n      const k = keys[0];\n      const val = this[k];\n      delete this[k];\n      return [k, val];\n    },\n    setdefault(key, def = null) {\n      if (!(key in this)) {\n        this[key] = def;\n      }\n      return this[key];\n    },\n    update(kwargs) {\n      lib._assign(this, kwargs);\n      return null; // Always returns None\n    }\n  };\n  OBJECT_MEMBERS.iteritems = OBJECT_MEMBERS.items;\n  OBJECT_MEMBERS.itervalues = OBJECT_MEMBERS.values;\n  OBJECT_MEMBERS.iterkeys = OBJECT_MEMBERS.keys;\n\n  runtime.memberLookup = function memberLookup(obj, val, autoescape) {\n    if (arguments.length === 4) {\n      return sliceLookup.apply(this, arguments);\n    }\n    obj = obj || {};\n\n    // If the object is an object, return any of the methods that Python would\n    // otherwise provide.\n    if (lib.isArray(obj) && hasOwnProp(ARRAY_MEMBERS, val)) {\n      return ARRAY_MEMBERS[val].bind(obj);\n    }\n    if (lib.isObject(obj) && hasOwnProp(OBJECT_MEMBERS, val)) {\n      return OBJECT_MEMBERS[val].bind(obj);\n    }\n\n    return orig_memberLookup.apply(this, arguments);\n  };\n\n  return uninstall;\n}\n\nmodule.exports = installCompat;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/jinja-compat.js"],"sourceRoot":""}